<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>archivey API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="function" href="#open_archive">open_archive</a>
            </li>
            <li>
                    <a class="class" href="#FolderReader">FolderReader</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FolderReader.__init__">FolderReader</a>
                        </li>
                        <li>
                                <a class="variable" href="#FolderReader.format">format</a>
                        </li>
                        <li>
                                <a class="variable" href="#FolderReader.magic">magic</a>
                        </li>
                        <li>
                                <a class="variable" href="#FolderReader.magic_offset">magic_offset</a>
                        </li>
                        <li>
                                <a class="variable" href="#FolderReader.path">path</a>
                        </li>
                        <li>
                                <a class="function" href="#FolderReader.iter_members_for_registration">iter_members_for_registration</a>
                        </li>
                        <li>
                                <a class="function" href="#FolderReader.open">open</a>
                        </li>
                        <li>
                                <a class="function" href="#FolderReader.get_archive_info">get_archive_info</a>
                        </li>
                        <li>
                                <a class="function" href="#FolderReader.close">close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveError">ArchiveError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveFormatError">ArchiveFormatError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveCorruptedError">ArchiveCorruptedError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveEncryptedError">ArchiveEncryptedError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveEOFError">ArchiveEOFError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveMemberNotFoundError">ArchiveMemberNotFoundError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveNotSupportedError">ArchiveNotSupportedError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveMember">ArchiveMember</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ArchiveMember.__init__">ArchiveMember</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.filename">filename</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.file_size">file_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.compress_size">compress_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.mtime_with_tz">mtime_with_tz</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.type">type</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.mode">mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.crc32">crc32</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.compression_method">compression_method</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.comment">comment</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.create_system">create_system</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.encrypted">encrypted</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.extra">extra</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.link_target">link_target</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.raw_info">raw_info</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.mtime">mtime</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.member_id">member_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.archive_id">archive_id</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.date_time">date_time</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.is_file">is_file</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.is_dir">is_dir</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.is_link">is_link</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.is_other">is_other</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveMember.CRC">CRC</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveInfo">ArchiveInfo</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ArchiveInfo.__init__">ArchiveInfo</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveInfo.format">format</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveInfo.version">version</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveInfo.is_solid">is_solid</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveInfo.extra">extra</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveInfo.comment">comment</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ArchiveFormat">ArchiveFormat</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#ArchiveFormat.ZIP">ZIP</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.RAR">RAR</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.SEVENZIP">SEVENZIP</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.GZIP">GZIP</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.BZIP2">BZIP2</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.XZ">XZ</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.ZSTD">ZSTD</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.LZ4">LZ4</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.TAR">TAR</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.TAR_GZ">TAR_GZ</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.TAR_BZ2">TAR_BZ2</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.TAR_XZ">TAR_XZ</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.TAR_ZSTD">TAR_ZSTD</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.TAR_LZ4">TAR_LZ4</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.ISO">ISO</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.FOLDER">FOLDER</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveFormat.UNKNOWN">UNKNOWN</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#detect_archive_format_by_signature">detect_archive_format_by_signature</a>
            </li>
            <li>
                    <a class="class" href="#MemberType">MemberType</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#MemberType.FILE">FILE</a>
                        </li>
                        <li>
                                <a class="variable" href="#MemberType.DIR">DIR</a>
                        </li>
                        <li>
                                <a class="variable" href="#MemberType.SYMLINK">SYMLINK</a>
                        </li>
                        <li>
                                <a class="variable" href="#MemberType.HARDLINK">HARDLINK</a>
                        </li>
                        <li>
                                <a class="variable" href="#MemberType.OTHER">OTHER</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CreateSystem">CreateSystem</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#CreateSystem.FAT">FAT</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.AMIGA">AMIGA</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.VMS">VMS</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.UNIX">UNIX</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.VM_CMS">VM_CMS</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.ATARI_ST">ATARI_ST</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.OS2_HPFS">OS2_HPFS</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.MACINTOSH">MACINTOSH</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.Z_SYSTEM">Z_SYSTEM</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.CPM">CPM</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.TOPS20">TOPS20</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.NTFS">NTFS</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.QDOS">QDOS</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.ACORN_RISCOS">ACORN_RISCOS</a>
                        </li>
                        <li>
                                <a class="variable" href="#CreateSystem.UNKNOWN">UNKNOWN</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DependencyVersions">DependencyVersions</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DependencyVersions.__init__">DependencyVersions</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.python_version">python_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.rarfile_version">rarfile_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.py7zr_version">py7zr_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.cryptography_version">cryptography_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.lz4_version">lz4_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.zstandard_version">zstandard_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.pycdlib_version">pycdlib_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.rapidgzip_version">rapidgzip_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.indexed_bzip2_version">indexed_bzip2_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.python_xz_version">python_xz_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.unrar_version">unrar_version</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependencyVersions.pyzstd_version">pyzstd_version</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#get_dependency_versions">get_dependency_versions</a>
            </li>
            <li>
                    <a class="function" href="#format_dependency_versions">format_dependency_versions</a>
            </li>
            <li>
                    <a class="class" href="#ArchiveyConfig">ArchiveyConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ArchiveyConfig.__init__">ArchiveyConfig</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_libarchive">use_libarchive</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_rar_stream">use_rar_stream</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_single_file_stored_metadata">use_single_file_stored_metadata</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_rapidgzip">use_rapidgzip</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_indexed_bzip2">use_indexed_bzip2</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_python_xz">use_python_xz</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.use_zstandard">use_zstandard</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.tar_check_integrity">tar_check_integrity</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.sevenzip_read_link_targets_eagerly">sevenzip_read_link_targets_eagerly</a>
                        </li>
                        <li>
                                <a class="variable" href="#ArchiveyConfig.overwrite_mode">overwrite_mode</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#get_default_config">get_default_config</a>
            </li>
            <li>
                    <a class="function" href="#set_default_config">set_default_config</a>
            </li>
            <li>
                    <a class="function" href="#default_config">default_config</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
archivey    </h1>

                
                        <input id="mod-archivey-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-archivey-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.config</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a>    <span class="n">ArchiveyConfig</span><span class="p">,</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a>    <span class="n">default_config</span><span class="p">,</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>    <span class="n">get_default_config</span><span class="p">,</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a>    <span class="n">set_default_config</span><span class="p">,</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="p">)</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">open_archive</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.dependency_checker</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a>    <span class="n">DependencyVersions</span><span class="p">,</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>    <span class="n">format_dependency_versions</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a>    <span class="n">get_dependency_versions</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="p">)</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>    <span class="n">ArchiveCorruptedError</span><span class="p">,</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a>    <span class="n">ArchiveEncryptedError</span><span class="p">,</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>    <span class="n">ArchiveEOFError</span><span class="p">,</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>    <span class="n">ArchiveError</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a>    <span class="n">ArchiveFormatError</span><span class="p">,</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a>    <span class="n">ArchiveMemberNotFoundError</span><span class="p">,</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a>    <span class="n">ArchiveNotSupportedError</span><span class="p">,</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a><span class="p">)</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.folder_reader</span><span class="w"> </span><span class="kn">import</span> <span class="n">FolderReader</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.formats</span><span class="w"> </span><span class="kn">import</span> <span class="n">detect_archive_format_by_signature</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">archivey.types</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a>    <span class="n">ArchiveFormat</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a>    <span class="n">ArchiveInfo</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a>    <span class="n">ArchiveMember</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a>    <span class="n">CreateSystem</span><span class="p">,</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>    <span class="n">MemberType</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a><span class="p">)</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>    <span class="s2">&quot;open_archive&quot;</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a>    <span class="s2">&quot;FolderReader&quot;</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>    <span class="s2">&quot;ArchiveError&quot;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a>    <span class="s2">&quot;ArchiveFormatError&quot;</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>    <span class="s2">&quot;ArchiveCorruptedError&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="s2">&quot;ArchiveEncryptedError&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>    <span class="s2">&quot;ArchiveEOFError&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="s2">&quot;ArchiveMemberNotFoundError&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>    <span class="s2">&quot;ArchiveNotSupportedError&quot;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>    <span class="s2">&quot;ArchiveMember&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>    <span class="s2">&quot;ArchiveInfo&quot;</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a>    <span class="s2">&quot;ArchiveFormat&quot;</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">45</span></a>    <span class="s2">&quot;detect_archive_format_by_signature&quot;</span><span class="p">,</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">46</span></a>    <span class="s2">&quot;MemberType&quot;</span><span class="p">,</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">47</span></a>    <span class="s2">&quot;CreateSystem&quot;</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">48</span></a>    <span class="s2">&quot;DependencyVersions&quot;</span><span class="p">,</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">49</span></a>    <span class="s2">&quot;get_dependency_versions&quot;</span><span class="p">,</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">50</span></a>    <span class="s2">&quot;format_dependency_versions&quot;</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">51</span></a>    <span class="s2">&quot;ArchiveyConfig&quot;</span><span class="p">,</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">52</span></a>    <span class="s2">&quot;get_default_config&quot;</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">53</span></a>    <span class="s2">&quot;set_default_config&quot;</span><span class="p">,</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">54</span></a>    <span class="s2">&quot;default_config&quot;</span><span class="p">,</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">55</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="open_archive">
                            <input id="open_archive-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_archive</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">archive_path</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">BinaryIO</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">config</span><span class="p">:</span> <span class="n"><a href="#ArchiveyConfig">ArchiveyConfig</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">streaming_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">pwd</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">archivey</span><span class="o">.</span><span class="n">base_reader</span><span class="o">.</span><span class="n">ArchiveReader</span>:</span></span>

                <label class="view-source-button" for="open_archive-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#open_archive"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="open_archive-39"><a href="#open_archive-39"><span class="linenos"> 39</span></a><span class="k">def</span><span class="w"> </span><span class="nf">open_archive</span><span class="p">(</span>
</span><span id="open_archive-40"><a href="#open_archive-40"><span class="linenos"> 40</span></a>    <span class="n">archive_path</span><span class="p">:</span> <span class="n">BinaryIO</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">,</span>
</span><span id="open_archive-41"><a href="#open_archive-41"><span class="linenos"> 41</span></a>    <span class="o">*</span><span class="p">,</span>
</span><span id="open_archive-42"><a href="#open_archive-42"><span class="linenos"> 42</span></a>    <span class="n">config</span><span class="p">:</span> <span class="n">ArchiveyConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="open_archive-43"><a href="#open_archive-43"><span class="linenos"> 43</span></a>    <span class="n">streaming_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="open_archive-44"><a href="#open_archive-44"><span class="linenos"> 44</span></a>    <span class="n">pwd</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="open_archive-45"><a href="#open_archive-45"><span class="linenos"> 45</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArchiveReader</span><span class="p">:</span>
</span><span id="open_archive-46"><a href="#open_archive-46"><span class="linenos"> 46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="open_archive-47"><a href="#open_archive-47"><span class="linenos"> 47</span></a><span class="sd">    Open an archive file and return an appropriate ArchiveReader instance.</span>
</span><span id="open_archive-48"><a href="#open_archive-48"><span class="linenos"> 48</span></a>
</span><span id="open_archive-49"><a href="#open_archive-49"><span class="linenos"> 49</span></a><span class="sd">    This function auto-detects the archive format and selects the correct reader.</span>
</span><span id="open_archive-50"><a href="#open_archive-50"><span class="linenos"> 50</span></a><span class="sd">    It is the main entry point for users of the archivey library.</span>
</span><span id="open_archive-51"><a href="#open_archive-51"><span class="linenos"> 51</span></a>
</span><span id="open_archive-52"><a href="#open_archive-52"><span class="linenos"> 52</span></a><span class="sd">    Args:</span>
</span><span id="open_archive-53"><a href="#open_archive-53"><span class="linenos"> 53</span></a><span class="sd">        archive_path: Path to the archive file (e.g., &quot;my_archive.zip&quot;, &quot;data.tar.gz&quot;)</span>
</span><span id="open_archive-54"><a href="#open_archive-54"><span class="linenos"> 54</span></a><span class="sd">            or a binary file object containing the archive data.</span>
</span><span id="open_archive-55"><a href="#open_archive-55"><span class="linenos"> 55</span></a><span class="sd">        config: Optional ArchiveyConfig object to customize behavior. If None,</span>
</span><span id="open_archive-56"><a href="#open_archive-56"><span class="linenos"> 56</span></a><span class="sd">            default configuration is used.</span>
</span><span id="open_archive-57"><a href="#open_archive-57"><span class="linenos"> 57</span></a><span class="sd">        streaming_only: If True, forces the archive to be opened in a streaming-only</span>
</span><span id="open_archive-58"><a href="#open_archive-58"><span class="linenos"> 58</span></a><span class="sd">            mode, even if it supports random access. This can be useful for</span>
</span><span id="open_archive-59"><a href="#open_archive-59"><span class="linenos"> 59</span></a><span class="sd">            very large archives or when only sequential access is needed.</span>
</span><span id="open_archive-60"><a href="#open_archive-60"><span class="linenos"> 60</span></a><span class="sd">            Not all archive formats support this flag effectively.</span>
</span><span id="open_archive-61"><a href="#open_archive-61"><span class="linenos"> 61</span></a><span class="sd">        pwd: Optional password (str or bytes) used to decrypt the archive if it</span>
</span><span id="open_archive-62"><a href="#open_archive-62"><span class="linenos"> 62</span></a><span class="sd">            is encrypted.</span>
</span><span id="open_archive-63"><a href="#open_archive-63"><span class="linenos"> 63</span></a>
</span><span id="open_archive-64"><a href="#open_archive-64"><span class="linenos"> 64</span></a><span class="sd">    Returns:</span>
</span><span id="open_archive-65"><a href="#open_archive-65"><span class="linenos"> 65</span></a><span class="sd">        An ArchiveReader instance suitable for the detected archive format.</span>
</span><span id="open_archive-66"><a href="#open_archive-66"><span class="linenos"> 66</span></a>
</span><span id="open_archive-67"><a href="#open_archive-67"><span class="linenos"> 67</span></a><span class="sd">    Raises:</span>
</span><span id="open_archive-68"><a href="#open_archive-68"><span class="linenos"> 68</span></a><span class="sd">        FileNotFoundError: If the `archive_path` does not exist.</span>
</span><span id="open_archive-69"><a href="#open_archive-69"><span class="linenos"> 69</span></a><span class="sd">        ArchiveNotSupportedError: If the archive format is not supported or cannot</span>
</span><span id="open_archive-70"><a href="#open_archive-70"><span class="linenos"> 70</span></a><span class="sd">            be determined.</span>
</span><span id="open_archive-71"><a href="#open_archive-71"><span class="linenos"> 71</span></a><span class="sd">        ArchiveCorruptedError: If the archive is detected as corrupted during opening</span>
</span><span id="open_archive-72"><a href="#open_archive-72"><span class="linenos"> 72</span></a><span class="sd">            (some checks are format-specific).</span>
</span><span id="open_archive-73"><a href="#open_archive-73"><span class="linenos"> 73</span></a><span class="sd">        ArchiveEncryptedError: If the archive is encrypted and no password is provided,</span>
</span><span id="open_archive-74"><a href="#open_archive-74"><span class="linenos"> 74</span></a><span class="sd">            or if the provided password is incorrect.</span>
</span><span id="open_archive-75"><a href="#open_archive-75"><span class="linenos"> 75</span></a><span class="sd">        TypeError: If `archive_path` or `pwd` have an invalid type.</span>
</span><span id="open_archive-76"><a href="#open_archive-76"><span class="linenos"> 76</span></a>
</span><span id="open_archive-77"><a href="#open_archive-77"><span class="linenos"> 77</span></a><span class="sd">    Example:</span>
</span><span id="open_archive-78"><a href="#open_archive-78"><span class="linenos"> 78</span></a><span class="sd">        &gt;&gt;&gt; from archivey import open_archive, ArchiveError</span>
</span><span id="open_archive-79"><a href="#open_archive-79"><span class="linenos"> 79</span></a><span class="sd">        &gt;&gt;&gt;</span>
</span><span id="open_archive-80"><a href="#open_archive-80"><span class="linenos"> 80</span></a><span class="sd">        &gt;&gt;&gt; try:</span>
</span><span id="open_archive-81"><a href="#open_archive-81"><span class="linenos"> 81</span></a><span class="sd">        ...     with open_archive(&quot;my_data.zip&quot;, pwd=&quot;secret&quot;) as archive:</span>
</span><span id="open_archive-82"><a href="#open_archive-82"><span class="linenos"> 82</span></a><span class="sd">        ...         for member in archive.get_members():</span>
</span><span id="open_archive-83"><a href="#open_archive-83"><span class="linenos"> 83</span></a><span class="sd">        ...             print(f&quot;Found member: {member.filename}&quot;)</span>
</span><span id="open_archive-84"><a href="#open_archive-84"><span class="linenos"> 84</span></a><span class="sd">        ...         # Further operations with the archive</span>
</span><span id="open_archive-85"><a href="#open_archive-85"><span class="linenos"> 85</span></a><span class="sd">        ... except FileNotFoundError:</span>
</span><span id="open_archive-86"><a href="#open_archive-86"><span class="linenos"> 86</span></a><span class="sd">        ...     print(&quot;Error: Archive file not found.&quot;)</span>
</span><span id="open_archive-87"><a href="#open_archive-87"><span class="linenos"> 87</span></a><span class="sd">        ... except ArchiveError as e:</span>
</span><span id="open_archive-88"><a href="#open_archive-88"><span class="linenos"> 88</span></a><span class="sd">        ...     print(f&quot;An archive error occurred: {e}&quot;)</span>
</span><span id="open_archive-89"><a href="#open_archive-89"><span class="linenos"> 89</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="open_archive-90"><a href="#open_archive-90"><span class="linenos"> 90</span></a>    <span class="n">archive_path_normalized</span> <span class="o">=</span> <span class="n">_normalize_archive_path</span><span class="p">(</span><span class="n">archive_path</span><span class="p">)</span>
</span><span id="open_archive-91"><a href="#open_archive-91"><span class="linenos"> 91</span></a>
</span><span id="open_archive-92"><a href="#open_archive-92"><span class="linenos"> 92</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="open_archive-93"><a href="#open_archive-93"><span class="linenos"> 93</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">):</span>
</span><span id="open_archive-94"><a href="#open_archive-94"><span class="linenos"> 94</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
</span><span id="open_archive-95"><a href="#open_archive-95"><span class="linenos"> 95</span></a>                <span class="sa">f</span><span class="s2">&quot;Archive file not found: </span><span class="si">{</span><span class="n">archive_path_normalized</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="open_archive-96"><a href="#open_archive-96"><span class="linenos"> 96</span></a>            <span class="p">)</span>
</span><span id="open_archive-97"><a href="#open_archive-97"><span class="linenos"> 97</span></a>        <span class="nb">format</span> <span class="o">=</span> <span class="n">detect_archive_format</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">)</span>
</span><span id="open_archive-98"><a href="#open_archive-98"><span class="linenos"> 98</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="open_archive-99"><a href="#open_archive-99"><span class="linenos"> 99</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="open_archive-100"><a href="#open_archive-100"><span class="linenos">100</span></a>            <span class="n">archive_path_normalized</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="open_archive-101"><a href="#open_archive-101"><span class="linenos">101</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="open_archive-102"><a href="#open_archive-102"><span class="linenos">102</span></a>            <span class="k">pass</span>
</span><span id="open_archive-103"><a href="#open_archive-103"><span class="linenos">103</span></a>        <span class="nb">format</span> <span class="o">=</span> <span class="n">detect_archive_format_by_signature</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">)</span>
</span><span id="open_archive-104"><a href="#open_archive-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="nb">format</span> <span class="ow">in</span> <span class="n">COMPRESSION_FORMAT_TO_TAR_FORMAT</span><span class="p">:</span>
</span><span id="open_archive-105"><a href="#open_archive-105"><span class="linenos">105</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="open_archive-106"><a href="#open_archive-106"><span class="linenos">106</span></a>                <span class="n">archive_path_normalized</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="open_archive-107"><a href="#open_archive-107"><span class="linenos">107</span></a>                <span class="n">stream</span> <span class="o">=</span> <span class="n">open_stream_fileobj</span><span class="p">(</span>
</span><span id="open_archive-108"><a href="#open_archive-108"><span class="linenos">108</span></a>                    <span class="nb">format</span><span class="p">,</span> <span class="n">archive_path_normalized</span><span class="p">,</span> <span class="n">get_default_config</span><span class="p">()</span>
</span><span id="open_archive-109"><a href="#open_archive-109"><span class="linenos">109</span></a>                <span class="p">)</span>
</span><span id="open_archive-110"><a href="#open_archive-110"><span class="linenos">110</span></a>                <span class="n">head</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">262</span><span class="p">)</span>
</span><span id="open_archive-111"><a href="#open_archive-111"><span class="linenos">111</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">head</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">262</span> <span class="ow">and</span> <span class="n">head</span><span class="p">[</span><span class="mi">257</span><span class="p">:</span><span class="mi">262</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;ustar&quot;</span><span class="p">):</span>
</span><span id="open_archive-112"><a href="#open_archive-112"><span class="linenos">112</span></a>                    <span class="nb">format</span> <span class="o">=</span> <span class="n">COMPRESSION_FORMAT_TO_TAR_FORMAT</span><span class="p">[</span><span class="nb">format</span><span class="p">]</span>
</span><span id="open_archive-113"><a href="#open_archive-113"><span class="linenos">113</span></a>            <span class="k">finally</span><span class="p">:</span>
</span><span id="open_archive-114"><a href="#open_archive-114"><span class="linenos">114</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="open_archive-115"><a href="#open_archive-115"><span class="linenos">115</span></a>                    <span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="open_archive-116"><a href="#open_archive-116"><span class="linenos">116</span></a>                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="open_archive-117"><a href="#open_archive-117"><span class="linenos">117</span></a>                    <span class="k">pass</span>
</span><span id="open_archive-118"><a href="#open_archive-118"><span class="linenos">118</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="open_archive-119"><a href="#open_archive-119"><span class="linenos">119</span></a>            <span class="n">archive_path_normalized</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="open_archive-120"><a href="#open_archive-120"><span class="linenos">120</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="open_archive-121"><a href="#open_archive-121"><span class="linenos">121</span></a>            <span class="k">pass</span>
</span><span id="open_archive-122"><a href="#open_archive-122"><span class="linenos">122</span></a>
</span><span id="open_archive-123"><a href="#open_archive-123"><span class="linenos">123</span></a>    <span class="k">if</span> <span class="n">pwd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pwd</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
</span><span id="open_archive-124"><a href="#open_archive-124"><span class="linenos">124</span></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Password must be a string or bytes&quot;</span><span class="p">)</span>
</span><span id="open_archive-125"><a href="#open_archive-125"><span class="linenos">125</span></a>
</span><span id="open_archive-126"><a href="#open_archive-126"><span class="linenos">126</span></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="open_archive-127"><a href="#open_archive-127"><span class="linenos">127</span></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">get_default_config</span><span class="p">()</span>
</span><span id="open_archive-128"><a href="#open_archive-128"><span class="linenos">128</span></a>
</span><span id="open_archive-129"><a href="#open_archive-129"><span class="linenos">129</span></a>    <span class="k">with</span> <span class="n">default_config</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
</span><span id="open_archive-130"><a href="#open_archive-130"><span class="linenos">130</span></a>        <span class="n">use_libarchive</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">use_libarchive</span>
</span><span id="open_archive-131"><a href="#open_archive-131"><span class="linenos">131</span></a>
</span><span id="open_archive-132"><a href="#open_archive-132"><span class="linenos">132</span></a>        <span class="n">reader</span><span class="p">:</span> <span class="n">ArchiveReader</span>
</span><span id="open_archive-133"><a href="#open_archive-133"><span class="linenos">133</span></a>
</span><span id="open_archive-134"><a href="#open_archive-134"><span class="linenos">134</span></a>        <span class="k">if</span> <span class="n">use_libarchive</span><span class="p">:</span>
</span><span id="open_archive-135"><a href="#open_archive-135"><span class="linenos">135</span></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;LibArchiveReader is not implemented&quot;</span><span class="p">)</span>
</span><span id="open_archive-136"><a href="#open_archive-136"><span class="linenos">136</span></a>
</span><span id="open_archive-137"><a href="#open_archive-137"><span class="linenos">137</span></a>        <span class="k">if</span> <span class="nb">format</span> <span class="o">==</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">RAR</span><span class="p">:</span>
</span><span id="open_archive-138"><a href="#open_archive-138"><span class="linenos">138</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">archivey.rar_reader</span><span class="w"> </span><span class="kn">import</span> <span class="n">RarReader</span>
</span><span id="open_archive-139"><a href="#open_archive-139"><span class="linenos">139</span></a>
</span><span id="open_archive-140"><a href="#open_archive-140"><span class="linenos">140</span></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">RarReader</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">,</span> <span class="n">pwd</span><span class="o">=</span><span class="n">pwd</span><span class="p">)</span>
</span><span id="open_archive-141"><a href="#open_archive-141"><span class="linenos">141</span></a>
</span><span id="open_archive-142"><a href="#open_archive-142"><span class="linenos">142</span></a>        <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">ZIP</span><span class="p">:</span>
</span><span id="open_archive-143"><a href="#open_archive-143"><span class="linenos">143</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">archivey.zip_reader</span><span class="w"> </span><span class="kn">import</span> <span class="n">ZipReader</span>
</span><span id="open_archive-144"><a href="#open_archive-144"><span class="linenos">144</span></a>
</span><span id="open_archive-145"><a href="#open_archive-145"><span class="linenos">145</span></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">ZipReader</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">,</span> <span class="n">pwd</span><span class="o">=</span><span class="n">pwd</span><span class="p">)</span>
</span><span id="open_archive-146"><a href="#open_archive-146"><span class="linenos">146</span></a>
</span><span id="open_archive-147"><a href="#open_archive-147"><span class="linenos">147</span></a>        <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">SEVENZIP</span><span class="p">:</span>
</span><span id="open_archive-148"><a href="#open_archive-148"><span class="linenos">148</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">archivey.sevenzip_reader</span><span class="w"> </span><span class="kn">import</span> <span class="n">SevenZipReader</span>
</span><span id="open_archive-149"><a href="#open_archive-149"><span class="linenos">149</span></a>
</span><span id="open_archive-150"><a href="#open_archive-150"><span class="linenos">150</span></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">SevenZipReader</span><span class="p">(</span>
</span><span id="open_archive-151"><a href="#open_archive-151"><span class="linenos">151</span></a>                <span class="n">archive_path_normalized</span><span class="p">,</span>
</span><span id="open_archive-152"><a href="#open_archive-152"><span class="linenos">152</span></a>                <span class="n">pwd</span><span class="o">=</span><span class="n">pwd</span><span class="p">,</span>
</span><span id="open_archive-153"><a href="#open_archive-153"><span class="linenos">153</span></a>                <span class="n">streaming_only</span><span class="o">=</span><span class="n">streaming_only</span><span class="p">,</span>
</span><span id="open_archive-154"><a href="#open_archive-154"><span class="linenos">154</span></a>            <span class="p">)</span>
</span><span id="open_archive-155"><a href="#open_archive-155"><span class="linenos">155</span></a>
</span><span id="open_archive-156"><a href="#open_archive-156"><span class="linenos">156</span></a>        <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">TAR</span> <span class="ow">or</span> <span class="nb">format</span> <span class="ow">in</span> <span class="n">TAR_COMPRESSED_FORMATS</span><span class="p">:</span>
</span><span id="open_archive-157"><a href="#open_archive-157"><span class="linenos">157</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">archivey.tar_reader</span><span class="w"> </span><span class="kn">import</span> <span class="n">TarReader</span>
</span><span id="open_archive-158"><a href="#open_archive-158"><span class="linenos">158</span></a>
</span><span id="open_archive-159"><a href="#open_archive-159"><span class="linenos">159</span></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">TarReader</span><span class="p">(</span>
</span><span id="open_archive-160"><a href="#open_archive-160"><span class="linenos">160</span></a>                <span class="n">archive_path_normalized</span><span class="p">,</span>
</span><span id="open_archive-161"><a href="#open_archive-161"><span class="linenos">161</span></a>                <span class="n">pwd</span><span class="o">=</span><span class="n">pwd</span><span class="p">,</span>
</span><span id="open_archive-162"><a href="#open_archive-162"><span class="linenos">162</span></a>                <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="open_archive-163"><a href="#open_archive-163"><span class="linenos">163</span></a>                <span class="n">streaming_only</span><span class="o">=</span><span class="n">streaming_only</span><span class="p">,</span>
</span><span id="open_archive-164"><a href="#open_archive-164"><span class="linenos">164</span></a>            <span class="p">)</span>
</span><span id="open_archive-165"><a href="#open_archive-165"><span class="linenos">165</span></a>
</span><span id="open_archive-166"><a href="#open_archive-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="nb">format</span> <span class="ow">in</span> <span class="n">SINGLE_FILE_COMPRESSED_FORMATS</span><span class="p">:</span>
</span><span id="open_archive-167"><a href="#open_archive-167"><span class="linenos">167</span></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">archivey.single_file_reader</span><span class="w"> </span><span class="kn">import</span> <span class="n">SingleFileReader</span>
</span><span id="open_archive-168"><a href="#open_archive-168"><span class="linenos">168</span></a>
</span><span id="open_archive-169"><a href="#open_archive-169"><span class="linenos">169</span></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">SingleFileReader</span><span class="p">(</span>
</span><span id="open_archive-170"><a href="#open_archive-170"><span class="linenos">170</span></a>                <span class="n">archive_path_normalized</span><span class="p">,</span>
</span><span id="open_archive-171"><a href="#open_archive-171"><span class="linenos">171</span></a>                <span class="n">pwd</span><span class="o">=</span><span class="n">pwd</span><span class="p">,</span>
</span><span id="open_archive-172"><a href="#open_archive-172"><span class="linenos">172</span></a>                <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
</span><span id="open_archive-173"><a href="#open_archive-173"><span class="linenos">173</span></a>            <span class="p">)</span>
</span><span id="open_archive-174"><a href="#open_archive-174"><span class="linenos">174</span></a>
</span><span id="open_archive-175"><a href="#open_archive-175"><span class="linenos">175</span></a>        <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">ISO</span><span class="p">:</span>
</span><span id="open_archive-176"><a href="#open_archive-176"><span class="linenos">176</span></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;ISO reader is not yet implemented&quot;</span><span class="p">)</span>
</span><span id="open_archive-177"><a href="#open_archive-177"><span class="linenos">177</span></a>
</span><span id="open_archive-178"><a href="#open_archive-178"><span class="linenos">178</span></a>        <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">FOLDER</span><span class="p">:</span>
</span><span id="open_archive-179"><a href="#open_archive-179"><span class="linenos">179</span></a>            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span> <span class="p">(</span>
</span><span id="open_archive-180"><a href="#open_archive-180"><span class="linenos">180</span></a>                <span class="s2">&quot;FolderReader only supports string paths&quot;</span>
</span><span id="open_archive-181"><a href="#open_archive-181"><span class="linenos">181</span></a>            <span class="p">)</span>
</span><span id="open_archive-182"><a href="#open_archive-182"><span class="linenos">182</span></a>            <span class="n">reader</span> <span class="o">=</span> <span class="n">FolderReader</span><span class="p">(</span><span class="n">archive_path_normalized</span><span class="p">)</span>
</span><span id="open_archive-183"><a href="#open_archive-183"><span class="linenos">183</span></a>
</span><span id="open_archive-184"><a href="#open_archive-184"><span class="linenos">184</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="open_archive-185"><a href="#open_archive-185"><span class="linenos">185</span></a>            <span class="k">raise</span> <span class="n">ArchiveNotSupportedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported archive format: </span><span class="si">{</span><span class="nb">format</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="open_archive-186"><a href="#open_archive-186"><span class="linenos">186</span></a>
</span><span id="open_archive-187"><a href="#open_archive-187"><span class="linenos">187</span></a>        <span class="k">if</span> <span class="n">streaming_only</span><span class="p">:</span>
</span><span id="open_archive-188"><a href="#open_archive-188"><span class="linenos">188</span></a>            <span class="k">return</span> <span class="n">StreamingOnlyArchiveReaderWrapper</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
</span><span id="open_archive-189"><a href="#open_archive-189"><span class="linenos">189</span></a>
</span><span id="open_archive-190"><a href="#open_archive-190"><span class="linenos">190</span></a>        <span class="k">return</span> <span class="n">reader</span>
</span></pre></div>


            <div class="docstring"><p>Open an archive file and return an appropriate ArchiveReader instance.</p>

<p>This function auto-detects the archive format and selects the correct reader.
It is the main entry point for users of the archivey library.</p>

<p>Args:
    archive_path: Path to the archive file (e.g., "my_archive.zip", "data.tar.gz")
        or a binary file object containing the archive data.
    config: Optional ArchiveyConfig object to customize behavior. If None,
        default configuration is used.
    streaming_only: If True, forces the archive to be opened in a streaming-only
        mode, even if it supports random access. This can be useful for
        very large archives or when only sequential access is needed.
        Not all archive formats support this flag effectively.
    pwd: Optional password (str or bytes) used to decrypt the archive if it
        is encrypted.</p>

<p>Returns:
    An ArchiveReader instance suitable for the detected archive format.</p>

<p>Raises:
    FileNotFoundError: If the <code>archive_path</code> does not exist.
    ArchiveNotSupportedError: If the archive format is not supported or cannot
        be determined.
    ArchiveCorruptedError: If the archive is detected as corrupted during opening
        (some checks are format-specific).
    ArchiveEncryptedError: If the archive is encrypted and no password is provided,
        or if the provided password is incorrect.
    TypeError: If <code>archive_path</code> or <code>pwd</code> have an invalid type.</p>

<p>Example:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from archivey import open_archive, ArchiveError</p>
      
      <p>try:
          ...     with open_archive("my_data.zip", pwd="secret") as archive:
          ...         for member in archive.get_members():
          ...             print(f"Found member: {member.filename}")
          ...         # Further operations with the archive
          ... except FileNotFoundError:
          ...     print("Error: Archive file not found.")
          ... except ArchiveError as e:
          ...     print(f"An archive error occurred: {e}")</p>
    </blockquote>
  </blockquote>
</blockquote>
</div>


                </section>
                <section id="FolderReader">
                            <input id="FolderReader-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FolderReader</span><wbr>(<span class="base">archivey.base_reader.BaseArchiveReader</span>):

                <label class="view-source-button" for="FolderReader-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FolderReader"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FolderReader-16"><a href="#FolderReader-16"><span class="linenos"> 16</span></a><span class="k">class</span><span class="w"> </span><span class="nc">FolderReader</span><span class="p">(</span><span class="n">BaseArchiveReader</span><span class="p">):</span>
</span><span id="FolderReader-17"><a href="#FolderReader-17"><span class="linenos"> 17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="FolderReader-18"><a href="#FolderReader-18"><span class="linenos"> 18</span></a><span class="sd">    Reads a folder on the filesystem as an archive.</span>
</span><span id="FolderReader-19"><a href="#FolderReader-19"><span class="linenos"> 19</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="FolderReader-20"><a href="#FolderReader-20"><span class="linenos"> 20</span></a>
</span><span id="FolderReader-21"><a href="#FolderReader-21"><span class="linenos"> 21</span></a>    <span class="nb">format</span> <span class="o">=</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">FOLDER</span>
</span><span id="FolderReader-22"><a href="#FolderReader-22"><span class="linenos"> 22</span></a>    <span class="n">magic</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Not applicable for folders</span>
</span><span id="FolderReader-23"><a href="#FolderReader-23"><span class="linenos"> 23</span></a>    <span class="n">magic_offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</span><span id="FolderReader-24"><a href="#FolderReader-24"><span class="linenos"> 24</span></a>
</span><span id="FolderReader-25"><a href="#FolderReader-25"><span class="linenos"> 25</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FolderReader-26"><a href="#FolderReader-26"><span class="linenos"> 26</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FolderReader-27"><a href="#FolderReader-27"><span class="linenos"> 27</span></a>        <span class="n">archive_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">,</span>
</span><span id="FolderReader-28"><a href="#FolderReader-28"><span class="linenos"> 28</span></a>    <span class="p">):</span>
</span><span id="FolderReader-29"><a href="#FolderReader-29"><span class="linenos"> 29</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FolderReader-30"><a href="#FolderReader-30"><span class="linenos"> 30</span></a>            <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">FOLDER</span><span class="p">,</span>
</span><span id="FolderReader-31"><a href="#FolderReader-31"><span class="linenos"> 31</span></a>            <span class="n">archive_path</span><span class="p">,</span>
</span><span id="FolderReader-32"><a href="#FolderReader-32"><span class="linenos"> 32</span></a>            <span class="n">random_access_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="FolderReader-33"><a href="#FolderReader-33"><span class="linenos"> 33</span></a>            <span class="n">members_list_supported</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="FolderReader-34"><a href="#FolderReader-34"><span class="linenos"> 34</span></a>        <span class="p">)</span>
</span><span id="FolderReader-35"><a href="#FolderReader-35"><span class="linenos"> 35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>  <span class="c1"># Store absolute path</span>
</span><span id="FolderReader-36"><a href="#FolderReader-36"><span class="linenos"> 36</span></a>
</span><span id="FolderReader-37"><a href="#FolderReader-37"><span class="linenos"> 37</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span><span id="FolderReader-38"><a href="#FolderReader-38"><span class="linenos"> 38</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a directory: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="FolderReader-39"><a href="#FolderReader-39"><span class="linenos"> 39</span></a>
</span><span id="FolderReader-40"><a href="#FolderReader-40"><span class="linenos"> 40</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_member_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lstat_result</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MemberType</span><span class="p">:</span>
</span><span id="FolderReader-41"><a href="#FolderReader-41"><span class="linenos"> 41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines the MemberType from a path and its lstat result.&quot;&quot;&quot;</span>
</span><span id="FolderReader-42"><a href="#FolderReader-42"><span class="linenos"> 42</span></a>        <span class="k">if</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_ISDIR</span><span class="p">(</span><span class="n">lstat_result</span><span class="o">.</span><span class="n">st_mode</span><span class="p">):</span>
</span><span id="FolderReader-43"><a href="#FolderReader-43"><span class="linenos"> 43</span></a>            <span class="k">return</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">DIR</span>
</span><span id="FolderReader-44"><a href="#FolderReader-44"><span class="linenos"> 44</span></a>        <span class="k">elif</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_ISLNK</span><span class="p">(</span><span class="n">lstat_result</span><span class="o">.</span><span class="n">st_mode</span><span class="p">):</span>
</span><span id="FolderReader-45"><a href="#FolderReader-45"><span class="linenos"> 45</span></a>            <span class="k">return</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">SYMLINK</span>
</span><span id="FolderReader-46"><a href="#FolderReader-46"><span class="linenos"> 46</span></a>        <span class="k">elif</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_ISREG</span><span class="p">(</span><span class="n">lstat_result</span><span class="o">.</span><span class="n">st_mode</span><span class="p">):</span>
</span><span id="FolderReader-47"><a href="#FolderReader-47"><span class="linenos"> 47</span></a>            <span class="k">return</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">FILE</span>
</span><span id="FolderReader-48"><a href="#FolderReader-48"><span class="linenos"> 48</span></a>        <span class="k">return</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">OTHER</span>
</span><span id="FolderReader-49"><a href="#FolderReader-49"><span class="linenos"> 49</span></a>
</span><span id="FolderReader-50"><a href="#FolderReader-50"><span class="linenos"> 50</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_entry_to_member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArchiveMember</span><span class="p">:</span>
</span><span id="FolderReader-51"><a href="#FolderReader-51"><span class="linenos"> 51</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts a filesystem path to an ArchiveMember.&quot;&quot;&quot;</span>
</span><span id="FolderReader-52"><a href="#FolderReader-52"><span class="linenos"> 52</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">entry_path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span>
</span><span id="FolderReader-53"><a href="#FolderReader-53"><span class="linenos"> 53</span></a>
</span><span id="FolderReader-54"><a href="#FolderReader-54"><span class="linenos"> 54</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FolderReader-55"><a href="#FolderReader-55"><span class="linenos"> 55</span></a>            <span class="c1"># Use lstat to get info about the link itself, not the target</span>
</span><span id="FolderReader-56"><a href="#FolderReader-56"><span class="linenos"> 56</span></a>            <span class="n">stat_result</span> <span class="o">=</span> <span class="n">entry_path</span><span class="o">.</span><span class="n">lstat</span><span class="p">()</span>
</span><span id="FolderReader-57"><a href="#FolderReader-57"><span class="linenos"> 57</span></a>
</span><span id="FolderReader-58"><a href="#FolderReader-58"><span class="linenos"> 58</span></a>        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FolderReader-59"><a href="#FolderReader-59"><span class="linenos"> 59</span></a>            <span class="c1"># Could be a broken symlink or permission error</span>
</span><span id="FolderReader-60"><a href="#FolderReader-60"><span class="linenos"> 60</span></a>            <span class="c1"># Create a placeholder member</span>
</span><span id="FolderReader-61"><a href="#FolderReader-61"><span class="linenos"> 61</span></a>            <span class="k">return</span> <span class="n">ArchiveMember</span><span class="p">(</span>
</span><span id="FolderReader-62"><a href="#FolderReader-62"><span class="linenos"> 62</span></a>                <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
</span><span id="FolderReader-63"><a href="#FolderReader-63"><span class="linenos"> 63</span></a>                <span class="n">file_size</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="FolderReader-64"><a href="#FolderReader-64"><span class="linenos"> 64</span></a>                <span class="n">compress_size</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="FolderReader-65"><a href="#FolderReader-65"><span class="linenos"> 65</span></a>                <span class="n">mtime_with_tz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
</span><span id="FolderReader-66"><a href="#FolderReader-66"><span class="linenos"> 66</span></a>                <span class="nb">type</span><span class="o">=</span><span class="n">MemberType</span><span class="o">.</span><span class="n">OTHER</span><span class="p">,</span>  <span class="c1"># Or be more specific if possible from error</span>
</span><span id="FolderReader-67"><a href="#FolderReader-67"><span class="linenos"> 67</span></a>                <span class="n">comment</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Error reading entry: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="FolderReader-68"><a href="#FolderReader-68"><span class="linenos"> 68</span></a>                <span class="n">raw_info</span><span class="o">=</span><span class="n">e</span><span class="p">,</span>
</span><span id="FolderReader-69"><a href="#FolderReader-69"><span class="linenos"> 69</span></a>            <span class="p">)</span>
</span><span id="FolderReader-70"><a href="#FolderReader-70"><span class="linenos"> 70</span></a>
</span><span id="FolderReader-71"><a href="#FolderReader-71"><span class="linenos"> 71</span></a>        <span class="n">member_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_member_type</span><span class="p">(</span><span class="n">stat_result</span><span class="p">)</span>
</span><span id="FolderReader-72"><a href="#FolderReader-72"><span class="linenos"> 72</span></a>
</span><span id="FolderReader-73"><a href="#FolderReader-73"><span class="linenos"> 73</span></a>        <span class="n">link_target</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FolderReader-74"><a href="#FolderReader-74"><span class="linenos"> 74</span></a>        <span class="k">if</span> <span class="n">member_type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">SYMLINK</span><span class="p">:</span>
</span><span id="FolderReader-75"><a href="#FolderReader-75"><span class="linenos"> 75</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="FolderReader-76"><a href="#FolderReader-76"><span class="linenos"> 76</span></a>                <span class="n">link_target</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">readlink</span><span class="p">(</span><span class="n">entry_path</span><span class="p">)</span>
</span><span id="FolderReader-77"><a href="#FolderReader-77"><span class="linenos"> 77</span></a>            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
</span><span id="FolderReader-78"><a href="#FolderReader-78"><span class="linenos"> 78</span></a>                <span class="n">link_target</span> <span class="o">=</span> <span class="s2">&quot;Error reading link target&quot;</span>
</span><span id="FolderReader-79"><a href="#FolderReader-79"><span class="linenos"> 79</span></a>
</span><span id="FolderReader-80"><a href="#FolderReader-80"><span class="linenos"> 80</span></a>        <span class="k">return</span> <span class="n">ArchiveMember</span><span class="p">(</span>
</span><span id="FolderReader-81"><a href="#FolderReader-81"><span class="linenos"> 81</span></a>            <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
</span><span id="FolderReader-82"><a href="#FolderReader-82"><span class="linenos"> 82</span></a>            <span class="n">file_size</span><span class="o">=</span><span class="n">stat_result</span><span class="o">.</span><span class="n">st_size</span><span class="p">,</span>
</span><span id="FolderReader-83"><a href="#FolderReader-83"><span class="linenos"> 83</span></a>            <span class="n">compress_size</span><span class="o">=</span><span class="n">stat_result</span><span class="o">.</span><span class="n">st_size</span><span class="p">,</span>  <span class="c1"># No compression for folders</span>
</span><span id="FolderReader-84"><a href="#FolderReader-84"><span class="linenos"> 84</span></a>            <span class="c1"># st_mtime is in seconds since the epoch, so UTC.</span>
</span><span id="FolderReader-85"><a href="#FolderReader-85"><span class="linenos"> 85</span></a>            <span class="n">mtime_with_tz</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">stat_result</span><span class="o">.</span><span class="n">st_mtime</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
</span><span id="FolderReader-86"><a href="#FolderReader-86"><span class="linenos"> 86</span></a>            <span class="nb">type</span><span class="o">=</span><span class="n">member_type</span><span class="p">,</span>
</span><span id="FolderReader-87"><a href="#FolderReader-87"><span class="linenos"> 87</span></a>            <span class="n">mode</span><span class="o">=</span><span class="n">stat_result</span><span class="o">.</span><span class="n">st_mode</span><span class="p">,</span>
</span><span id="FolderReader-88"><a href="#FolderReader-88"><span class="linenos"> 88</span></a>            <span class="n">link_target</span><span class="o">=</span><span class="n">link_target</span><span class="p">,</span>
</span><span id="FolderReader-89"><a href="#FolderReader-89"><span class="linenos"> 89</span></a>        <span class="p">)</span>
</span><span id="FolderReader-90"><a href="#FolderReader-90"><span class="linenos"> 90</span></a>
</span><span id="FolderReader-91"><a href="#FolderReader-91"><span class="linenos"> 91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">iter_members_for_registration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">ArchiveMember</span><span class="p">]:</span>
</span><span id="FolderReader-92"><a href="#FolderReader-92"><span class="linenos"> 92</span></a>        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span>
</span><span id="FolderReader-93"><a href="#FolderReader-93"><span class="linenos"> 93</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">followlinks</span><span class="o">=</span><span class="kc">False</span>
</span><span id="FolderReader-94"><a href="#FolderReader-94"><span class="linenos"> 94</span></a>        <span class="p">):</span>
</span><span id="FolderReader-95"><a href="#FolderReader-95"><span class="linenos"> 95</span></a>            <span class="n">dirpath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</span><span id="FolderReader-96"><a href="#FolderReader-96"><span class="linenos"> 96</span></a>            <span class="k">for</span> <span class="n">dirname</span> <span class="ow">in</span> <span class="n">dirnames</span><span class="p">:</span>
</span><span id="FolderReader-97"><a href="#FolderReader-97"><span class="linenos"> 97</span></a>                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_entry_to_member</span><span class="p">(</span><span class="n">dirpath</span> <span class="o">/</span> <span class="n">dirname</span><span class="p">)</span>
</span><span id="FolderReader-98"><a href="#FolderReader-98"><span class="linenos"> 98</span></a>            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
</span><span id="FolderReader-99"><a href="#FolderReader-99"><span class="linenos"> 99</span></a>                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_entry_to_member</span><span class="p">(</span><span class="n">dirpath</span> <span class="o">/</span> <span class="n">filename</span><span class="p">)</span>
</span><span id="FolderReader-100"><a href="#FolderReader-100"><span class="linenos">100</span></a>
</span><span id="FolderReader-101"><a href="#FolderReader-101"><span class="linenos">101</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span>
</span><span id="FolderReader-102"><a href="#FolderReader-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FolderReader-103"><a href="#FolderReader-103"><span class="linenos">103</span></a>        <span class="n">member_or_filename</span><span class="p">:</span> <span class="n">ArchiveMember</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FolderReader-104"><a href="#FolderReader-104"><span class="linenos">104</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="FolderReader-105"><a href="#FolderReader-105"><span class="linenos">105</span></a>        <span class="n">pwd</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FolderReader-106"><a href="#FolderReader-106"><span class="linenos">106</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BinaryIO</span><span class="p">:</span>
</span><span id="FolderReader-107"><a href="#FolderReader-107"><span class="linenos">107</span></a>        <span class="c1"># pwd is ignored for FolderReader</span>
</span><span id="FolderReader-108"><a href="#FolderReader-108"><span class="linenos">108</span></a>
</span><span id="FolderReader-109"><a href="#FolderReader-109"><span class="linenos">109</span></a>        <span class="n">member_name</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="FolderReader-110"><a href="#FolderReader-110"><span class="linenos">110</span></a>            <span class="n">member_or_filename</span><span class="o">.</span><span class="n">filename</span>
</span><span id="FolderReader-111"><a href="#FolderReader-111"><span class="linenos">111</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member_or_filename</span><span class="p">,</span> <span class="n">ArchiveMember</span><span class="p">)</span>
</span><span id="FolderReader-112"><a href="#FolderReader-112"><span class="linenos">112</span></a>            <span class="k">else</span> <span class="n">member_or_filename</span>
</span><span id="FolderReader-113"><a href="#FolderReader-113"><span class="linenos">113</span></a>        <span class="p">)</span>
</span><span id="FolderReader-114"><a href="#FolderReader-114"><span class="linenos">114</span></a>
</span><span id="FolderReader-115"><a href="#FolderReader-115"><span class="linenos">115</span></a>        <span class="c1"># Convert archive path (with &#39;/&#39;) to OS-specific path</span>
</span><span id="FolderReader-116"><a href="#FolderReader-116"><span class="linenos">116</span></a>        <span class="n">os_specific_member_path</span> <span class="o">=</span> <span class="n">member_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
</span><span id="FolderReader-117"><a href="#FolderReader-117"><span class="linenos">117</span></a>        <span class="n">full_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">/</span> <span class="n">os_specific_member_path</span>
</span><span id="FolderReader-118"><a href="#FolderReader-118"><span class="linenos">118</span></a>
</span><span id="FolderReader-119"><a href="#FolderReader-119"><span class="linenos">119</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">full_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="FolderReader-120"><a href="#FolderReader-120"><span class="linenos">120</span></a>            <span class="k">raise</span> <span class="n">ArchiveMemberNotFoundError</span><span class="p">(</span>
</span><span id="FolderReader-121"><a href="#FolderReader-121"><span class="linenos">121</span></a>                <span class="sa">f</span><span class="s2">&quot;Member not found: </span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2"> (resolved to </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="FolderReader-122"><a href="#FolderReader-122"><span class="linenos">122</span></a>            <span class="p">)</span>
</span><span id="FolderReader-123"><a href="#FolderReader-123"><span class="linenos">123</span></a>
</span><span id="FolderReader-124"><a href="#FolderReader-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="n">full_path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span><span id="FolderReader-125"><a href="#FolderReader-125"><span class="linenos">125</span></a>            <span class="k">raise</span> <span class="n">ArchiveError</span><span class="p">(</span>
</span><span id="FolderReader-126"><a href="#FolderReader-126"><span class="linenos">126</span></a>                <span class="sa">f</span><span class="s2">&quot;Cannot open directory &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39; as a file stream.&quot;</span>
</span><span id="FolderReader-127"><a href="#FolderReader-127"><span class="linenos">127</span></a>            <span class="p">)</span>
</span><span id="FolderReader-128"><a href="#FolderReader-128"><span class="linenos">128</span></a>
</span><span id="FolderReader-129"><a href="#FolderReader-129"><span class="linenos">129</span></a>        <span class="c1"># It&#39;s good practice to ensure the resolved path is still within the archive root</span>
</span><span id="FolderReader-130"><a href="#FolderReader-130"><span class="linenos">130</span></a>        <span class="c1"># to prevent potential directory traversal issues if member_name contains &#39;..&#39;</span>
</span><span id="FolderReader-131"><a href="#FolderReader-131"><span class="linenos">131</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FolderReader-132"><a href="#FolderReader-132"><span class="linenos">132</span></a>            <span class="n">resolved_full_path</span> <span class="o">=</span> <span class="n">full_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
</span><span id="FolderReader-133"><a href="#FolderReader-133"><span class="linenos">133</span></a>            <span class="k">if</span> <span class="p">(</span>
</span><span id="FolderReader-134"><a href="#FolderReader-134"><span class="linenos">134</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">resolved_full_path</span><span class="o">.</span><span class="n">parents</span>
</span><span id="FolderReader-135"><a href="#FolderReader-135"><span class="linenos">135</span></a>                <span class="ow">and</span> <span class="n">resolved_full_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span>
</span><span id="FolderReader-136"><a href="#FolderReader-136"><span class="linenos">136</span></a>            <span class="p">):</span>
</span><span id="FolderReader-137"><a href="#FolderReader-137"><span class="linenos">137</span></a>                <span class="c1"># This check needs to be careful. If archive_path is /foo/bar and resolved_full_path is /foo/bar/file.txt</span>
</span><span id="FolderReader-138"><a href="#FolderReader-138"><span class="linenos">138</span></a>                <span class="c1"># then archive_path is in resolved_full_path.parents.</span>
</span><span id="FolderReader-139"><a href="#FolderReader-139"><span class="linenos">139</span></a>                <span class="c1"># If archive_path is /foo/bar and resolved_full_path is /foo/baz/file.txt (due to symlink or ..) this is bad.</span>
</span><span id="FolderReader-140"><a href="#FolderReader-140"><span class="linenos">140</span></a>                <span class="c1"># A more robust check:</span>
</span><span id="FolderReader-141"><a href="#FolderReader-141"><span class="linenos">141</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">(</span><span class="n">resolved_full_path</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span><span class="p">)):</span>
</span><span id="FolderReader-142"><a href="#FolderReader-142"><span class="linenos">142</span></a>                    <span class="k">raise</span> <span class="n">ArchiveMemberNotFoundError</span><span class="p">(</span>
</span><span id="FolderReader-143"><a href="#FolderReader-143"><span class="linenos">143</span></a>                        <span class="sa">f</span><span class="s2">&quot;Access to member &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39; outside archive root is denied.&quot;</span>
</span><span id="FolderReader-144"><a href="#FolderReader-144"><span class="linenos">144</span></a>                    <span class="p">)</span>
</span><span id="FolderReader-145"><a href="#FolderReader-145"><span class="linenos">145</span></a>
</span><span id="FolderReader-146"><a href="#FolderReader-146"><span class="linenos">146</span></a>        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># e.g. broken symlink during resolve()</span>
</span><span id="FolderReader-147"><a href="#FolderReader-147"><span class="linenos">147</span></a>            <span class="k">raise</span> <span class="n">ArchiveMemberNotFoundError</span><span class="p">(</span>
</span><span id="FolderReader-148"><a href="#FolderReader-148"><span class="linenos">148</span></a>                <span class="sa">f</span><span class="s2">&quot;Error resolving path for member &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="FolderReader-149"><a href="#FolderReader-149"><span class="linenos">149</span></a>            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="FolderReader-150"><a href="#FolderReader-150"><span class="linenos">150</span></a>
</span><span id="FolderReader-151"><a href="#FolderReader-151"><span class="linenos">151</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FolderReader-152"><a href="#FolderReader-152"><span class="linenos">152</span></a>            <span class="k">return</span> <span class="n">full_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="FolderReader-153"><a href="#FolderReader-153"><span class="linenos">153</span></a>        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FolderReader-154"><a href="#FolderReader-154"><span class="linenos">154</span></a>            <span class="k">raise</span> <span class="n">ArchiveError</span><span class="p">(</span>
</span><span id="FolderReader-155"><a href="#FolderReader-155"><span class="linenos">155</span></a>                <span class="c1"># TODO: better exception type</span>
</span><span id="FolderReader-156"><a href="#FolderReader-156"><span class="linenos">156</span></a>                <span class="sa">f</span><span class="s2">&quot;Cannot open member &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="FolderReader-157"><a href="#FolderReader-157"><span class="linenos">157</span></a>            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="FolderReader-158"><a href="#FolderReader-158"><span class="linenos">158</span></a>
</span><span id="FolderReader-159"><a href="#FolderReader-159"><span class="linenos">159</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_archive_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArchiveInfo</span><span class="p">:</span>
</span><span id="FolderReader-160"><a href="#FolderReader-160"><span class="linenos">160</span></a>        <span class="k">return</span> <span class="n">ArchiveInfo</span><span class="p">(</span>
</span><span id="FolderReader-161"><a href="#FolderReader-161"><span class="linenos">161</span></a>            <span class="nb">format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span id="FolderReader-162"><a href="#FolderReader-162"><span class="linenos">162</span></a>            <span class="n">comment</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span><span class="p">),</span>  <span class="c1"># Use folder path as comment</span>
</span><span id="FolderReader-163"><a href="#FolderReader-163"><span class="linenos">163</span></a>            <span class="c1"># is_solid, version, extra are not applicable for folders</span>
</span><span id="FolderReader-164"><a href="#FolderReader-164"><span class="linenos">164</span></a>        <span class="p">)</span>
</span><span id="FolderReader-165"><a href="#FolderReader-165"><span class="linenos">165</span></a>
</span><span id="FolderReader-166"><a href="#FolderReader-166"><span class="linenos">166</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FolderReader-167"><a href="#FolderReader-167"><span class="linenos">167</span></a>        <span class="c1"># No-op for FolderReader, as there&#39;s no main file handle to close.</span>
</span><span id="FolderReader-168"><a href="#FolderReader-168"><span class="linenos">168</span></a>        <span class="c1"># Individual files are opened and closed in the open() method.</span>
</span><span id="FolderReader-169"><a href="#FolderReader-169"><span class="linenos">169</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Reads a folder on the filesystem as an archive.</p>
</div>


                            <div id="FolderReader.__init__" class="classattr">
                                        <input id="FolderReader.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">FolderReader</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">archive_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span></span>)</span>

                <label class="view-source-button" for="FolderReader.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FolderReader.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FolderReader.__init__-25"><a href="#FolderReader.__init__-25"><span class="linenos">25</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FolderReader.__init__-26"><a href="#FolderReader.__init__-26"><span class="linenos">26</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FolderReader.__init__-27"><a href="#FolderReader.__init__-27"><span class="linenos">27</span></a>        <span class="n">archive_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">,</span>
</span><span id="FolderReader.__init__-28"><a href="#FolderReader.__init__-28"><span class="linenos">28</span></a>    <span class="p">):</span>
</span><span id="FolderReader.__init__-29"><a href="#FolderReader.__init__-29"><span class="linenos">29</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="FolderReader.__init__-30"><a href="#FolderReader.__init__-30"><span class="linenos">30</span></a>            <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">FOLDER</span><span class="p">,</span>
</span><span id="FolderReader.__init__-31"><a href="#FolderReader.__init__-31"><span class="linenos">31</span></a>            <span class="n">archive_path</span><span class="p">,</span>
</span><span id="FolderReader.__init__-32"><a href="#FolderReader.__init__-32"><span class="linenos">32</span></a>            <span class="n">random_access_supported</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="FolderReader.__init__-33"><a href="#FolderReader.__init__-33"><span class="linenos">33</span></a>            <span class="n">members_list_supported</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="FolderReader.__init__-34"><a href="#FolderReader.__init__-34"><span class="linenos">34</span></a>        <span class="p">)</span>
</span><span id="FolderReader.__init__-35"><a href="#FolderReader.__init__-35"><span class="linenos">35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>  <span class="c1"># Store absolute path</span>
</span><span id="FolderReader.__init__-36"><a href="#FolderReader.__init__-36"><span class="linenos">36</span></a>
</span><span id="FolderReader.__init__-37"><a href="#FolderReader.__init__-37"><span class="linenos">37</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span><span id="FolderReader.__init__-38"><a href="#FolderReader.__init__-38"><span class="linenos">38</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Path is not a directory: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the BaseArchiveReader.</p>

<p>Args:
    format: The ArchiveFormat enum value for this archive type.
    archive_path: Path to the archive file.
    random_access_supported: bool indicating if <code><a href="#FolderReader.open">open()</a></code> by member name is
        supported. If False, <code><a href="#FolderReader.iter_members_with_io">iter_members_with_io</a></code> is likely the primary
        way to access content.
    members_list_supported: bool indicating if <code><a href="#FolderReader.get_members">get_members()</a></code> can provide
        a full list upfront (e.g., from a central directory). If False,
        <code><a href="#FolderReader.get_members">get_members()</a></code> might have to iterate through the archive.
    pwd: Optional default password for the archive.</p>
</div>


                            </div>
                            <div id="FolderReader.format" class="classattr">
                                <div class="attr variable">
            <span class="name">format</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.FOLDER">ArchiveFormat.FOLDER</a>: &#39;folder&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#FolderReader.format"></a>
    
    

                            </div>
                            <div id="FolderReader.magic" class="classattr">
                                <div class="attr variable">
            <span class="name">magic</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#FolderReader.magic"></a>
    
    

                            </div>
                            <div id="FolderReader.magic_offset" class="classattr">
                                <div class="attr variable">
            <span class="name">magic_offset</span>        =
<span class="default_value">-1</span>

        
    </div>
    <a class="headerlink" href="#FolderReader.magic_offset"></a>
    
    

                            </div>
                            <div id="FolderReader.path" class="classattr">
                                <div class="attr variable">
            <span class="name">path</span>

        
    </div>
    <a class="headerlink" href="#FolderReader.path"></a>
    
    

                            </div>
                            <div id="FolderReader.iter_members_for_registration" class="classattr">
                                        <input id="FolderReader.iter_members_for_registration-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">iter_members_for_registration</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Iterator</span><span class="p">[</span><span class="n"><a href="#ArchiveMember">ArchiveMember</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="FolderReader.iter_members_for_registration-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FolderReader.iter_members_for_registration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FolderReader.iter_members_for_registration-91"><a href="#FolderReader.iter_members_for_registration-91"><span class="linenos">91</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">iter_members_for_registration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">ArchiveMember</span><span class="p">]:</span>
</span><span id="FolderReader.iter_members_for_registration-92"><a href="#FolderReader.iter_members_for_registration-92"><span class="linenos">92</span></a>        <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span>
</span><span id="FolderReader.iter_members_for_registration-93"><a href="#FolderReader.iter_members_for_registration-93"><span class="linenos">93</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">followlinks</span><span class="o">=</span><span class="kc">False</span>
</span><span id="FolderReader.iter_members_for_registration-94"><a href="#FolderReader.iter_members_for_registration-94"><span class="linenos">94</span></a>        <span class="p">):</span>
</span><span id="FolderReader.iter_members_for_registration-95"><a href="#FolderReader.iter_members_for_registration-95"><span class="linenos">95</span></a>            <span class="n">dirpath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
</span><span id="FolderReader.iter_members_for_registration-96"><a href="#FolderReader.iter_members_for_registration-96"><span class="linenos">96</span></a>            <span class="k">for</span> <span class="n">dirname</span> <span class="ow">in</span> <span class="n">dirnames</span><span class="p">:</span>
</span><span id="FolderReader.iter_members_for_registration-97"><a href="#FolderReader.iter_members_for_registration-97"><span class="linenos">97</span></a>                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_entry_to_member</span><span class="p">(</span><span class="n">dirpath</span> <span class="o">/</span> <span class="n">dirname</span><span class="p">)</span>
</span><span id="FolderReader.iter_members_for_registration-98"><a href="#FolderReader.iter_members_for_registration-98"><span class="linenos">98</span></a>            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>
</span><span id="FolderReader.iter_members_for_registration-99"><a href="#FolderReader.iter_members_for_registration-99"><span class="linenos">99</span></a>                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_entry_to_member</span><span class="p">(</span><span class="n">dirpath</span> <span class="o">/</span> <span class="n">filename</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Yield ArchiveMember objects one by one from the archive.</p>

<p>This is a <strong>crucial abstract method</strong> that subclasses must implement.
It's the primary way <code>BaseArchiveReader</code> discovers archive contents.
The yielded <code><a href="#ArchiveMember">ArchiveMember</a></code> objects should have their metadata fields
populated (filename, size, type, mtime, etc.). <code>BaseArchiveReader</code>
will handle internal registration and link resolution.</p>

<p>Yields:
    Iterator[ArchiveMember]: ArchiveMember instances from the archive.</p>
</div>


                            </div>
                            <div id="FolderReader.open" class="classattr">
                                        <input id="FolderReader.open-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">member_or_filename</span><span class="p">:</span> <span class="n"><a href="#ArchiveMember">ArchiveMember</a></span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">pwd</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> &lt;class &#x27;BinaryIO&#x27;&gt;:</span></span>

                <label class="view-source-button" for="FolderReader.open-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FolderReader.open"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FolderReader.open-101"><a href="#FolderReader.open-101"><span class="linenos">101</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span>
</span><span id="FolderReader.open-102"><a href="#FolderReader.open-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="FolderReader.open-103"><a href="#FolderReader.open-103"><span class="linenos">103</span></a>        <span class="n">member_or_filename</span><span class="p">:</span> <span class="n">ArchiveMember</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="FolderReader.open-104"><a href="#FolderReader.open-104"><span class="linenos">104</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="FolderReader.open-105"><a href="#FolderReader.open-105"><span class="linenos">105</span></a>        <span class="n">pwd</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="FolderReader.open-106"><a href="#FolderReader.open-106"><span class="linenos">106</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BinaryIO</span><span class="p">:</span>
</span><span id="FolderReader.open-107"><a href="#FolderReader.open-107"><span class="linenos">107</span></a>        <span class="c1"># pwd is ignored for FolderReader</span>
</span><span id="FolderReader.open-108"><a href="#FolderReader.open-108"><span class="linenos">108</span></a>
</span><span id="FolderReader.open-109"><a href="#FolderReader.open-109"><span class="linenos">109</span></a>        <span class="n">member_name</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="FolderReader.open-110"><a href="#FolderReader.open-110"><span class="linenos">110</span></a>            <span class="n">member_or_filename</span><span class="o">.</span><span class="n">filename</span>
</span><span id="FolderReader.open-111"><a href="#FolderReader.open-111"><span class="linenos">111</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">member_or_filename</span><span class="p">,</span> <span class="n">ArchiveMember</span><span class="p">)</span>
</span><span id="FolderReader.open-112"><a href="#FolderReader.open-112"><span class="linenos">112</span></a>            <span class="k">else</span> <span class="n">member_or_filename</span>
</span><span id="FolderReader.open-113"><a href="#FolderReader.open-113"><span class="linenos">113</span></a>        <span class="p">)</span>
</span><span id="FolderReader.open-114"><a href="#FolderReader.open-114"><span class="linenos">114</span></a>
</span><span id="FolderReader.open-115"><a href="#FolderReader.open-115"><span class="linenos">115</span></a>        <span class="c1"># Convert archive path (with &#39;/&#39;) to OS-specific path</span>
</span><span id="FolderReader.open-116"><a href="#FolderReader.open-116"><span class="linenos">116</span></a>        <span class="n">os_specific_member_path</span> <span class="o">=</span> <span class="n">member_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
</span><span id="FolderReader.open-117"><a href="#FolderReader.open-117"><span class="linenos">117</span></a>        <span class="n">full_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">/</span> <span class="n">os_specific_member_path</span>
</span><span id="FolderReader.open-118"><a href="#FolderReader.open-118"><span class="linenos">118</span></a>
</span><span id="FolderReader.open-119"><a href="#FolderReader.open-119"><span class="linenos">119</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">full_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="FolderReader.open-120"><a href="#FolderReader.open-120"><span class="linenos">120</span></a>            <span class="k">raise</span> <span class="n">ArchiveMemberNotFoundError</span><span class="p">(</span>
</span><span id="FolderReader.open-121"><a href="#FolderReader.open-121"><span class="linenos">121</span></a>                <span class="sa">f</span><span class="s2">&quot;Member not found: </span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2"> (resolved to </span><span class="si">{</span><span class="n">full_path</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="FolderReader.open-122"><a href="#FolderReader.open-122"><span class="linenos">122</span></a>            <span class="p">)</span>
</span><span id="FolderReader.open-123"><a href="#FolderReader.open-123"><span class="linenos">123</span></a>
</span><span id="FolderReader.open-124"><a href="#FolderReader.open-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="n">full_path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span><span id="FolderReader.open-125"><a href="#FolderReader.open-125"><span class="linenos">125</span></a>            <span class="k">raise</span> <span class="n">ArchiveError</span><span class="p">(</span>
</span><span id="FolderReader.open-126"><a href="#FolderReader.open-126"><span class="linenos">126</span></a>                <span class="sa">f</span><span class="s2">&quot;Cannot open directory &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39; as a file stream.&quot;</span>
</span><span id="FolderReader.open-127"><a href="#FolderReader.open-127"><span class="linenos">127</span></a>            <span class="p">)</span>
</span><span id="FolderReader.open-128"><a href="#FolderReader.open-128"><span class="linenos">128</span></a>
</span><span id="FolderReader.open-129"><a href="#FolderReader.open-129"><span class="linenos">129</span></a>        <span class="c1"># It&#39;s good practice to ensure the resolved path is still within the archive root</span>
</span><span id="FolderReader.open-130"><a href="#FolderReader.open-130"><span class="linenos">130</span></a>        <span class="c1"># to prevent potential directory traversal issues if member_name contains &#39;..&#39;</span>
</span><span id="FolderReader.open-131"><a href="#FolderReader.open-131"><span class="linenos">131</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FolderReader.open-132"><a href="#FolderReader.open-132"><span class="linenos">132</span></a>            <span class="n">resolved_full_path</span> <span class="o">=</span> <span class="n">full_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
</span><span id="FolderReader.open-133"><a href="#FolderReader.open-133"><span class="linenos">133</span></a>            <span class="k">if</span> <span class="p">(</span>
</span><span id="FolderReader.open-134"><a href="#FolderReader.open-134"><span class="linenos">134</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">resolved_full_path</span><span class="o">.</span><span class="n">parents</span>
</span><span id="FolderReader.open-135"><a href="#FolderReader.open-135"><span class="linenos">135</span></a>                <span class="ow">and</span> <span class="n">resolved_full_path</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span>
</span><span id="FolderReader.open-136"><a href="#FolderReader.open-136"><span class="linenos">136</span></a>            <span class="p">):</span>
</span><span id="FolderReader.open-137"><a href="#FolderReader.open-137"><span class="linenos">137</span></a>                <span class="c1"># This check needs to be careful. If archive_path is /foo/bar and resolved_full_path is /foo/bar/file.txt</span>
</span><span id="FolderReader.open-138"><a href="#FolderReader.open-138"><span class="linenos">138</span></a>                <span class="c1"># then archive_path is in resolved_full_path.parents.</span>
</span><span id="FolderReader.open-139"><a href="#FolderReader.open-139"><span class="linenos">139</span></a>                <span class="c1"># If archive_path is /foo/bar and resolved_full_path is /foo/baz/file.txt (due to symlink or ..) this is bad.</span>
</span><span id="FolderReader.open-140"><a href="#FolderReader.open-140"><span class="linenos">140</span></a>                <span class="c1"># A more robust check:</span>
</span><span id="FolderReader.open-141"><a href="#FolderReader.open-141"><span class="linenos">141</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">(</span><span class="n">resolved_full_path</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span><span class="p">)):</span>
</span><span id="FolderReader.open-142"><a href="#FolderReader.open-142"><span class="linenos">142</span></a>                    <span class="k">raise</span> <span class="n">ArchiveMemberNotFoundError</span><span class="p">(</span>
</span><span id="FolderReader.open-143"><a href="#FolderReader.open-143"><span class="linenos">143</span></a>                        <span class="sa">f</span><span class="s2">&quot;Access to member &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39; outside archive root is denied.&quot;</span>
</span><span id="FolderReader.open-144"><a href="#FolderReader.open-144"><span class="linenos">144</span></a>                    <span class="p">)</span>
</span><span id="FolderReader.open-145"><a href="#FolderReader.open-145"><span class="linenos">145</span></a>
</span><span id="FolderReader.open-146"><a href="#FolderReader.open-146"><span class="linenos">146</span></a>        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># e.g. broken symlink during resolve()</span>
</span><span id="FolderReader.open-147"><a href="#FolderReader.open-147"><span class="linenos">147</span></a>            <span class="k">raise</span> <span class="n">ArchiveMemberNotFoundError</span><span class="p">(</span>
</span><span id="FolderReader.open-148"><a href="#FolderReader.open-148"><span class="linenos">148</span></a>                <span class="sa">f</span><span class="s2">&quot;Error resolving path for member &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="FolderReader.open-149"><a href="#FolderReader.open-149"><span class="linenos">149</span></a>            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span><span id="FolderReader.open-150"><a href="#FolderReader.open-150"><span class="linenos">150</span></a>
</span><span id="FolderReader.open-151"><a href="#FolderReader.open-151"><span class="linenos">151</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FolderReader.open-152"><a href="#FolderReader.open-152"><span class="linenos">152</span></a>            <span class="k">return</span> <span class="n">full_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="FolderReader.open-153"><a href="#FolderReader.open-153"><span class="linenos">153</span></a>        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FolderReader.open-154"><a href="#FolderReader.open-154"><span class="linenos">154</span></a>            <span class="k">raise</span> <span class="n">ArchiveError</span><span class="p">(</span>
</span><span id="FolderReader.open-155"><a href="#FolderReader.open-155"><span class="linenos">155</span></a>                <span class="c1"># TODO: better exception type</span>
</span><span id="FolderReader.open-156"><a href="#FolderReader.open-156"><span class="linenos">156</span></a>                <span class="sa">f</span><span class="s2">&quot;Cannot open member &#39;</span><span class="si">{</span><span class="n">member_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="FolderReader.open-157"><a href="#FolderReader.open-157"><span class="linenos">157</span></a>            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</span></pre></div>


            <div class="docstring"><p>Open a specific member of the archive for reading and return a binary I/O stream.</p>

<p>This method is typically available if <code><a href="#FolderReader.has_random_access">has_random_access()</a></code> returns True.
For symlinks, this should open the target file's content.</p>

<p>Args:
    member_or_filename: The ArchiveMember object or the filename (str) of
        the member to open.
    pwd: Optional password (str or bytes) for decrypting the member if it's
        encrypted.</p>

<p>Returns:
    A binary I/O stream (BinaryIO) for reading the member's content.</p>

<p>Raises:
    ArchiveMemberNotFoundError: If the specified member is not found.
    ArchiveMemberCannotBeOpenedError: If the member is a type that cannot be
                                    opened (e.g., a directory).
    ArchiveEncryptedError: If the member is encrypted and <code>pwd</code> is incorrect
                           or not provided.
    ArchiveCorruptedError: If the member data is found to be corrupt.
    NotImplementedError: If random access <code><a href="#FolderReader.open">open()</a></code> is not supported by this reader.</p>
</div>


                            </div>
                            <div id="FolderReader.get_archive_info" class="classattr">
                                        <input id="FolderReader.get_archive_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_archive_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#ArchiveInfo">ArchiveInfo</a></span>:</span></span>

                <label class="view-source-button" for="FolderReader.get_archive_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FolderReader.get_archive_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FolderReader.get_archive_info-159"><a href="#FolderReader.get_archive_info-159"><span class="linenos">159</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_archive_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArchiveInfo</span><span class="p">:</span>
</span><span id="FolderReader.get_archive_info-160"><a href="#FolderReader.get_archive_info-160"><span class="linenos">160</span></a>        <span class="k">return</span> <span class="n">ArchiveInfo</span><span class="p">(</span>
</span><span id="FolderReader.get_archive_info-161"><a href="#FolderReader.get_archive_info-161"><span class="linenos">161</span></a>            <span class="nb">format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span id="FolderReader.get_archive_info-162"><a href="#FolderReader.get_archive_info-162"><span class="linenos">162</span></a>            <span class="n">comment</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">archive_path</span><span class="p">),</span>  <span class="c1"># Use folder path as comment</span>
</span><span id="FolderReader.get_archive_info-163"><a href="#FolderReader.get_archive_info-163"><span class="linenos">163</span></a>            <span class="c1"># is_solid, version, extra are not applicable for folders</span>
</span><span id="FolderReader.get_archive_info-164"><a href="#FolderReader.get_archive_info-164"><span class="linenos">164</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return an ArchiveInfo object containing metadata about the archive itself.</p>

<p>This includes information like the archive format, whether it's solid,
any archive-level comments, etc.</p>

<p>Returns:
    An ArchiveInfo object.</p>
</div>


                            </div>
                            <div id="FolderReader.close" class="classattr">
                                        <input id="FolderReader.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="FolderReader.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FolderReader.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FolderReader.close-166"><a href="#FolderReader.close-166"><span class="linenos">166</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="FolderReader.close-167"><a href="#FolderReader.close-167"><span class="linenos">167</span></a>        <span class="c1"># No-op for FolderReader, as there&#39;s no main file handle to close.</span>
</span><span id="FolderReader.close-168"><a href="#FolderReader.close-168"><span class="linenos">168</span></a>        <span class="c1"># Individual files are opened and closed in the open() method.</span>
</span><span id="FolderReader.close-169"><a href="#FolderReader.close-169"><span class="linenos">169</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Close the archive and release any underlying resources.</p>

<p>This method should be idempotent (callable multiple times without error).
It is automatically called when the reader is used as a context manager.</p>
</div>


                            </div>
                </section>
                <section id="ArchiveError">
                            <input id="ArchiveError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveError</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="ArchiveError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveError-6"><a href="#ArchiveError-6"><span class="linenos">6</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="ArchiveError-7"><a href="#ArchiveError-7"><span class="linenos">7</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Base exception for all archive-related errors encountered by archivey.&quot;&quot;&quot;</span>
</span><span id="ArchiveError-8"><a href="#ArchiveError-8"><span class="linenos">8</span></a>
</span><span id="ArchiveError-9"><a href="#ArchiveError-9"><span class="linenos">9</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Base exception for all archive-related errors encountered by archivey.</p>
</div>


                </section>
                <section id="ArchiveFormatError">
                            <input id="ArchiveFormatError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveFormatError</span><wbr>(<span class="base"><a href="#ArchiveError">archivey.ArchiveError</a></span>):

                <label class="view-source-button" for="ArchiveFormatError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveFormatError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveFormatError-12"><a href="#ArchiveFormatError-12"><span class="linenos">12</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveFormatError</span><span class="p">(</span><span class="n">ArchiveError</span><span class="p">):</span>
</span><span id="ArchiveFormatError-13"><a href="#ArchiveFormatError-13"><span class="linenos">13</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an archive&#39;s format is incorrect or unexpected.&quot;&quot;&quot;</span>
</span><span id="ArchiveFormatError-14"><a href="#ArchiveFormatError-14"><span class="linenos">14</span></a>
</span><span id="ArchiveFormatError-15"><a href="#ArchiveFormatError-15"><span class="linenos">15</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when an archive's format is incorrect or unexpected.</p>
</div>


                </section>
                <section id="ArchiveCorruptedError">
                            <input id="ArchiveCorruptedError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveCorruptedError</span><wbr>(<span class="base"><a href="#ArchiveError">archivey.ArchiveError</a></span>):

                <label class="view-source-button" for="ArchiveCorruptedError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveCorruptedError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveCorruptedError-18"><a href="#ArchiveCorruptedError-18"><span class="linenos">18</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveCorruptedError</span><span class="p">(</span><span class="n">ArchiveError</span><span class="p">):</span>
</span><span id="ArchiveCorruptedError-19"><a href="#ArchiveCorruptedError-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an archive is detected as corrupted, incomplete, or invalid.&quot;&quot;&quot;</span>
</span><span id="ArchiveCorruptedError-20"><a href="#ArchiveCorruptedError-20"><span class="linenos">20</span></a>
</span><span id="ArchiveCorruptedError-21"><a href="#ArchiveCorruptedError-21"><span class="linenos">21</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when an archive is detected as corrupted, incomplete, or invalid.</p>
</div>


                </section>
                <section id="ArchiveEncryptedError">
                            <input id="ArchiveEncryptedError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveEncryptedError</span><wbr>(<span class="base"><a href="#ArchiveError">archivey.ArchiveError</a></span>):

                <label class="view-source-button" for="ArchiveEncryptedError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveEncryptedError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveEncryptedError-24"><a href="#ArchiveEncryptedError-24"><span class="linenos">24</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveEncryptedError</span><span class="p">(</span><span class="n">ArchiveError</span><span class="p">):</span>
</span><span id="ArchiveEncryptedError-25"><a href="#ArchiveEncryptedError-25"><span class="linenos">25</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ArchiveEncryptedError-26"><a href="#ArchiveEncryptedError-26"><span class="linenos">26</span></a><span class="sd">    Raised when an archive or its member is encrypted and either no password</span>
</span><span id="ArchiveEncryptedError-27"><a href="#ArchiveEncryptedError-27"><span class="linenos">27</span></a><span class="sd">    was provided, or the provided password was incorrect.</span>
</span><span id="ArchiveEncryptedError-28"><a href="#ArchiveEncryptedError-28"><span class="linenos">28</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ArchiveEncryptedError-29"><a href="#ArchiveEncryptedError-29"><span class="linenos">29</span></a>
</span><span id="ArchiveEncryptedError-30"><a href="#ArchiveEncryptedError-30"><span class="linenos">30</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when an archive or its member is encrypted and either no password
was provided, or the provided password was incorrect.</p>
</div>


                </section>
                <section id="ArchiveEOFError">
                            <input id="ArchiveEOFError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveEOFError</span><wbr>(<span class="base"><a href="#ArchiveError">archivey.ArchiveError</a></span>):

                <label class="view-source-button" for="ArchiveEOFError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveEOFError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveEOFError-33"><a href="#ArchiveEOFError-33"><span class="linenos">33</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveEOFError</span><span class="p">(</span><span class="n">ArchiveError</span><span class="p">):</span>
</span><span id="ArchiveEOFError-34"><a href="#ArchiveEOFError-34"><span class="linenos">34</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when an unexpected end-of-file is encountered while reading an archive.&quot;&quot;&quot;</span>
</span><span id="ArchiveEOFError-35"><a href="#ArchiveEOFError-35"><span class="linenos">35</span></a>
</span><span id="ArchiveEOFError-36"><a href="#ArchiveEOFError-36"><span class="linenos">36</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when an unexpected end-of-file is encountered while reading an archive.</p>
</div>


                </section>
                <section id="ArchiveMemberNotFoundError">
                            <input id="ArchiveMemberNotFoundError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveMemberNotFoundError</span><wbr>(<span class="base"><a href="#ArchiveError">archivey.ArchiveError</a></span>):

                <label class="view-source-button" for="ArchiveMemberNotFoundError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMemberNotFoundError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMemberNotFoundError-39"><a href="#ArchiveMemberNotFoundError-39"><span class="linenos">39</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveMemberNotFoundError</span><span class="p">(</span><span class="n">ArchiveError</span><span class="p">):</span>
</span><span id="ArchiveMemberNotFoundError-40"><a href="#ArchiveMemberNotFoundError-40"><span class="linenos">40</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a specifically requested member is not found within the archive.&quot;&quot;&quot;</span>
</span><span id="ArchiveMemberNotFoundError-41"><a href="#ArchiveMemberNotFoundError-41"><span class="linenos">41</span></a>
</span><span id="ArchiveMemberNotFoundError-42"><a href="#ArchiveMemberNotFoundError-42"><span class="linenos">42</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when a specifically requested member is not found within the archive.</p>
</div>


                </section>
                <section id="ArchiveNotSupportedError">
                            <input id="ArchiveNotSupportedError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveNotSupportedError</span><wbr>(<span class="base"><a href="#ArchiveError">archivey.ArchiveError</a></span>):

                <label class="view-source-button" for="ArchiveNotSupportedError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveNotSupportedError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveNotSupportedError-45"><a href="#ArchiveNotSupportedError-45"><span class="linenos">45</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveNotSupportedError</span><span class="p">(</span><span class="n">ArchiveError</span><span class="p">):</span>
</span><span id="ArchiveNotSupportedError-46"><a href="#ArchiveNotSupportedError-46"><span class="linenos">46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when the detected archive format is not supported by archivey.&quot;&quot;&quot;</span>
</span><span id="ArchiveNotSupportedError-47"><a href="#ArchiveNotSupportedError-47"><span class="linenos">47</span></a>
</span><span id="ArchiveNotSupportedError-48"><a href="#ArchiveNotSupportedError-48"><span class="linenos">48</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when the detected archive format is not supported by archivey.</p>
</div>


                </section>
                <section id="ArchiveMember">
                            <input id="ArchiveMember-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass</div>

    <span class="def">class</span>
    <span class="name">ArchiveMember</span>:

                <label class="view-source-button" for="ArchiveMember-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember-111"><a href="#ArchiveMember-111"><span class="linenos">111</span></a><span class="nd">@dataclass</span>
</span><span id="ArchiveMember-112"><a href="#ArchiveMember-112"><span class="linenos">112</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveMember</span><span class="p">:</span>
</span><span id="ArchiveMember-113"><a href="#ArchiveMember-113"><span class="linenos">113</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a file within an archive.&quot;&quot;&quot;</span>
</span><span id="ArchiveMember-114"><a href="#ArchiveMember-114"><span class="linenos">114</span></a>
</span><span id="ArchiveMember-115"><a href="#ArchiveMember-115"><span class="linenos">115</span></a>    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="ArchiveMember-116"><a href="#ArchiveMember-116"><span class="linenos">116</span></a>    <span class="n">file_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="ArchiveMember-117"><a href="#ArchiveMember-117"><span class="linenos">117</span></a>    <span class="n">compress_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="ArchiveMember-118"><a href="#ArchiveMember-118"><span class="linenos">118</span></a>    <span class="n">mtime_with_tz</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span>
</span><span id="ArchiveMember-119"><a href="#ArchiveMember-119"><span class="linenos">119</span></a>    <span class="nb">type</span><span class="p">:</span> <span class="n">MemberType</span>
</span><span id="ArchiveMember-120"><a href="#ArchiveMember-120"><span class="linenos">120</span></a>
</span><span id="ArchiveMember-121"><a href="#ArchiveMember-121"><span class="linenos">121</span></a>    <span class="n">mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-122"><a href="#ArchiveMember-122"><span class="linenos">122</span></a>    <span class="n">crc32</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-123"><a href="#ArchiveMember-123"><span class="linenos">123</span></a>    <span class="n">compression_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># e.g. &quot;deflate&quot;, &quot;lzma&quot;, etc.</span>
</span><span id="ArchiveMember-124"><a href="#ArchiveMember-124"><span class="linenos">124</span></a>    <span class="n">comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-125"><a href="#ArchiveMember-125"><span class="linenos">125</span></a>    <span class="n">create_system</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CreateSystem</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-126"><a href="#ArchiveMember-126"><span class="linenos">126</span></a>    <span class="n">encrypted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveMember-127"><a href="#ArchiveMember-127"><span class="linenos">127</span></a>    <span class="n">extra</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="ArchiveMember-128"><a href="#ArchiveMember-128"><span class="linenos">128</span></a>    <span class="n">link_target</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-129"><a href="#ArchiveMember-129"><span class="linenos">129</span></a>
</span><span id="ArchiveMember-130"><a href="#ArchiveMember-130"><span class="linenos">130</span></a>    <span class="c1"># The raw info from the archive reader</span>
</span><span id="ArchiveMember-131"><a href="#ArchiveMember-131"><span class="linenos">131</span></a>    <span class="n">raw_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-132"><a href="#ArchiveMember-132"><span class="linenos">132</span></a>
</span><span id="ArchiveMember-133"><a href="#ArchiveMember-133"><span class="linenos">133</span></a>    <span class="c1"># A unique identifier for this member within the archive. Used to distinguish members</span>
</span><span id="ArchiveMember-134"><a href="#ArchiveMember-134"><span class="linenos">134</span></a>    <span class="c1"># and preserve ordering, but not for direct indexing. Assigned by register_member().</span>
</span><span id="ArchiveMember-135"><a href="#ArchiveMember-135"><span class="linenos">135</span></a>    <span class="n">_member_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-136"><a href="#ArchiveMember-136"><span class="linenos">136</span></a>
</span><span id="ArchiveMember-137"><a href="#ArchiveMember-137"><span class="linenos">137</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-138"><a href="#ArchiveMember-138"><span class="linenos">138</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">mtime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]:</span>
</span><span id="ArchiveMember-139"><a href="#ArchiveMember-139"><span class="linenos">139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the mtime as a datetime object without timezone information.&quot;&quot;&quot;</span>
</span><span id="ArchiveMember-140"><a href="#ArchiveMember-140"><span class="linenos">140</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mtime_with_tz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember-141"><a href="#ArchiveMember-141"><span class="linenos">141</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArchiveMember-142"><a href="#ArchiveMember-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mtime_with_tz</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="ArchiveMember-143"><a href="#ArchiveMember-143"><span class="linenos">143</span></a>
</span><span id="ArchiveMember-144"><a href="#ArchiveMember-144"><span class="linenos">144</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-145"><a href="#ArchiveMember-145"><span class="linenos">145</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">member_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ArchiveMember-146"><a href="#ArchiveMember-146"><span class="linenos">146</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_member_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember-147"><a href="#ArchiveMember-147"><span class="linenos">147</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Member index not yet set&quot;</span><span class="p">)</span>
</span><span id="ArchiveMember-148"><a href="#ArchiveMember-148"><span class="linenos">148</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_member_id</span>
</span><span id="ArchiveMember-149"><a href="#ArchiveMember-149"><span class="linenos">149</span></a>
</span><span id="ArchiveMember-150"><a href="#ArchiveMember-150"><span class="linenos">150</span></a>    <span class="c1"># A unique identifier for the archive. Used to distinguish between archives.</span>
</span><span id="ArchiveMember-151"><a href="#ArchiveMember-151"><span class="linenos">151</span></a>    <span class="c1"># Filled by register_member().</span>
</span><span id="ArchiveMember-152"><a href="#ArchiveMember-152"><span class="linenos">152</span></a>    <span class="n">_archive_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveMember-153"><a href="#ArchiveMember-153"><span class="linenos">153</span></a>
</span><span id="ArchiveMember-154"><a href="#ArchiveMember-154"><span class="linenos">154</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-155"><a href="#ArchiveMember-155"><span class="linenos">155</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">archive_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ArchiveMember-156"><a href="#ArchiveMember-156"><span class="linenos">156</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_archive_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember-157"><a href="#ArchiveMember-157"><span class="linenos">157</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Archive ID not yet set&quot;</span><span class="p">)</span>
</span><span id="ArchiveMember-158"><a href="#ArchiveMember-158"><span class="linenos">158</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_archive_id</span>
</span><span id="ArchiveMember-159"><a href="#ArchiveMember-159"><span class="linenos">159</span></a>
</span><span id="ArchiveMember-160"><a href="#ArchiveMember-160"><span class="linenos">160</span></a>    <span class="c1"># Properties for zipfile compatibility (and others, as much as possible)</span>
</span><span id="ArchiveMember-161"><a href="#ArchiveMember-161"><span class="linenos">161</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-162"><a href="#ArchiveMember-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">date_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
</span><span id="ArchiveMember-163"><a href="#ArchiveMember-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the date and time as a tuple.&quot;&quot;&quot;</span>
</span><span id="ArchiveMember-164"><a href="#ArchiveMember-164"><span class="linenos">164</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember-165"><a href="#ArchiveMember-165"><span class="linenos">165</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArchiveMember-166"><a href="#ArchiveMember-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="ArchiveMember-167"><a href="#ArchiveMember-167"><span class="linenos">167</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
</span><span id="ArchiveMember-168"><a href="#ArchiveMember-168"><span class="linenos">168</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">month</span><span class="p">,</span>
</span><span id="ArchiveMember-169"><a href="#ArchiveMember-169"><span class="linenos">169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">day</span><span class="p">,</span>
</span><span id="ArchiveMember-170"><a href="#ArchiveMember-170"><span class="linenos">170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span>
</span><span id="ArchiveMember-171"><a href="#ArchiveMember-171"><span class="linenos">171</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span>
</span><span id="ArchiveMember-172"><a href="#ArchiveMember-172"><span class="linenos">172</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
</span><span id="ArchiveMember-173"><a href="#ArchiveMember-173"><span class="linenos">173</span></a>        <span class="p">)</span>
</span><span id="ArchiveMember-174"><a href="#ArchiveMember-174"><span class="linenos">174</span></a>
</span><span id="ArchiveMember-175"><a href="#ArchiveMember-175"><span class="linenos">175</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-176"><a href="#ArchiveMember-176"><span class="linenos">176</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember-177"><a href="#ArchiveMember-177"><span class="linenos">177</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">FILE</span>
</span><span id="ArchiveMember-178"><a href="#ArchiveMember-178"><span class="linenos">178</span></a>
</span><span id="ArchiveMember-179"><a href="#ArchiveMember-179"><span class="linenos">179</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-180"><a href="#ArchiveMember-180"><span class="linenos">180</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember-181"><a href="#ArchiveMember-181"><span class="linenos">181</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">DIR</span>
</span><span id="ArchiveMember-182"><a href="#ArchiveMember-182"><span class="linenos">182</span></a>
</span><span id="ArchiveMember-183"><a href="#ArchiveMember-183"><span class="linenos">183</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-184"><a href="#ArchiveMember-184"><span class="linenos">184</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember-185"><a href="#ArchiveMember-185"><span class="linenos">185</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">SYMLINK</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">HARDLINK</span>
</span><span id="ArchiveMember-186"><a href="#ArchiveMember-186"><span class="linenos">186</span></a>
</span><span id="ArchiveMember-187"><a href="#ArchiveMember-187"><span class="linenos">187</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-188"><a href="#ArchiveMember-188"><span class="linenos">188</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_other</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember-189"><a href="#ArchiveMember-189"><span class="linenos">189</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">OTHER</span>
</span><span id="ArchiveMember-190"><a href="#ArchiveMember-190"><span class="linenos">190</span></a>
</span><span id="ArchiveMember-191"><a href="#ArchiveMember-191"><span class="linenos">191</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember-192"><a href="#ArchiveMember-192"><span class="linenos">192</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">CRC</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="ArchiveMember-193"><a href="#ArchiveMember-193"><span class="linenos">193</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">crc32</span>
</span></pre></div>


            <div class="docstring"><p>Represents a file within an archive.</p>
</div>


                            <div id="ArchiveMember.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">ArchiveMember</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">file_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>,</span><span class="param">	<span class="n">compress_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>,</span><span class="param">	<span class="n">mtime_with_tz</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span>,</span><span class="param">	<span class="nb">type</span><span class="p">:</span> <span class="n"><a href="#MemberType">MemberType</a></span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">crc32</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">compression_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">create_system</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#CreateSystem">CreateSystem</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">encrypted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">extra</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">factory</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">link_target</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">raw_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">_member_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">_archive_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.__init__"></a>
    
    

                            </div>
                            <div id="ArchiveMember.filename" class="classattr">
                                <div class="attr variable">
            <span class="name">filename</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.filename"></a>
    
    

                            </div>
                            <div id="ArchiveMember.file_size" class="classattr">
                                <div class="attr variable">
            <span class="name">file_size</span><span class="annotation">: Optional[int]</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.file_size"></a>
    
    

                            </div>
                            <div id="ArchiveMember.compress_size" class="classattr">
                                <div class="attr variable">
            <span class="name">compress_size</span><span class="annotation">: Optional[int]</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.compress_size"></a>
    
    

                            </div>
                            <div id="ArchiveMember.mtime_with_tz" class="classattr">
                                <div class="attr variable">
            <span class="name">mtime_with_tz</span><span class="annotation">: Optional[datetime.datetime]</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.mtime_with_tz"></a>
    
    

                            </div>
                            <div id="ArchiveMember.type" class="classattr">
                                <div class="attr variable">
            <span class="name">type</span><span class="annotation">: <a href="#MemberType">MemberType</a></span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.type"></a>
    
    

                            </div>
                            <div id="ArchiveMember.mode" class="classattr">
                                <div class="attr variable">
            <span class="name">mode</span><span class="annotation">: Optional[int]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.mode"></a>
    
    

                            </div>
                            <div id="ArchiveMember.crc32" class="classattr">
                                <div class="attr variable">
            <span class="name">crc32</span><span class="annotation">: Optional[int]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.crc32"></a>
    
    

                            </div>
                            <div id="ArchiveMember.compression_method" class="classattr">
                                <div class="attr variable">
            <span class="name">compression_method</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.compression_method"></a>
    
    

                            </div>
                            <div id="ArchiveMember.comment" class="classattr">
                                <div class="attr variable">
            <span class="name">comment</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.comment"></a>
    
    

                            </div>
                            <div id="ArchiveMember.create_system" class="classattr">
                                <div class="attr variable">
            <span class="name">create_system</span><span class="annotation">: Optional[<a href="#CreateSystem">CreateSystem</a>]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.create_system"></a>
    
    

                            </div>
                            <div id="ArchiveMember.encrypted" class="classattr">
                                <div class="attr variable">
            <span class="name">encrypted</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.encrypted"></a>
    
    

                            </div>
                            <div id="ArchiveMember.extra" class="classattr">
                                <div class="attr variable">
            <span class="name">extra</span><span class="annotation">: dict[str, typing.Any]</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.extra"></a>
    
    

                            </div>
                            <div id="ArchiveMember.link_target" class="classattr">
                                <div class="attr variable">
            <span class="name">link_target</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.link_target"></a>
    
    

                            </div>
                            <div id="ArchiveMember.raw_info" class="classattr">
                                <div class="attr variable">
            <span class="name">raw_info</span><span class="annotation">: Optional[Any]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveMember.raw_info"></a>
    
    

                            </div>
                            <div id="ArchiveMember.mtime" class="classattr">
                                        <input id="ArchiveMember.mtime-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">mtime</span><span class="annotation">: Optional[datetime.datetime]</span>

                <label class="view-source-button" for="ArchiveMember.mtime-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.mtime"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.mtime-137"><a href="#ArchiveMember.mtime-137"><span class="linenos">137</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.mtime-138"><a href="#ArchiveMember.mtime-138"><span class="linenos">138</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">mtime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]:</span>
</span><span id="ArchiveMember.mtime-139"><a href="#ArchiveMember.mtime-139"><span class="linenos">139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the mtime as a datetime object without timezone information.&quot;&quot;&quot;</span>
</span><span id="ArchiveMember.mtime-140"><a href="#ArchiveMember.mtime-140"><span class="linenos">140</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mtime_with_tz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember.mtime-141"><a href="#ArchiveMember.mtime-141"><span class="linenos">141</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArchiveMember.mtime-142"><a href="#ArchiveMember.mtime-142"><span class="linenos">142</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mtime_with_tz</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the mtime as a datetime object without timezone information.</p>
</div>


                            </div>
                            <div id="ArchiveMember.member_id" class="classattr">
                                        <input id="ArchiveMember.member_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">member_id</span><span class="annotation">: int</span>

                <label class="view-source-button" for="ArchiveMember.member_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.member_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.member_id-144"><a href="#ArchiveMember.member_id-144"><span class="linenos">144</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.member_id-145"><a href="#ArchiveMember.member_id-145"><span class="linenos">145</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">member_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ArchiveMember.member_id-146"><a href="#ArchiveMember.member_id-146"><span class="linenos">146</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_member_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember.member_id-147"><a href="#ArchiveMember.member_id-147"><span class="linenos">147</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Member index not yet set&quot;</span><span class="p">)</span>
</span><span id="ArchiveMember.member_id-148"><a href="#ArchiveMember.member_id-148"><span class="linenos">148</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_member_id</span>
</span></pre></div>


    

                            </div>
                            <div id="ArchiveMember.archive_id" class="classattr">
                                        <input id="ArchiveMember.archive_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">archive_id</span><span class="annotation">: int</span>

                <label class="view-source-button" for="ArchiveMember.archive_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.archive_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.archive_id-154"><a href="#ArchiveMember.archive_id-154"><span class="linenos">154</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.archive_id-155"><a href="#ArchiveMember.archive_id-155"><span class="linenos">155</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">archive_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ArchiveMember.archive_id-156"><a href="#ArchiveMember.archive_id-156"><span class="linenos">156</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_archive_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember.archive_id-157"><a href="#ArchiveMember.archive_id-157"><span class="linenos">157</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Archive ID not yet set&quot;</span><span class="p">)</span>
</span><span id="ArchiveMember.archive_id-158"><a href="#ArchiveMember.archive_id-158"><span class="linenos">158</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_archive_id</span>
</span></pre></div>


    

                            </div>
                            <div id="ArchiveMember.date_time" class="classattr">
                                        <input id="ArchiveMember.date_time-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">date_time</span><span class="annotation">: Optional[Tuple[int, int, int, int, int, int]]</span>

                <label class="view-source-button" for="ArchiveMember.date_time-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.date_time"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.date_time-161"><a href="#ArchiveMember.date_time-161"><span class="linenos">161</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.date_time-162"><a href="#ArchiveMember.date_time-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">date_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
</span><span id="ArchiveMember.date_time-163"><a href="#ArchiveMember.date_time-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the date and time as a tuple.&quot;&quot;&quot;</span>
</span><span id="ArchiveMember.date_time-164"><a href="#ArchiveMember.date_time-164"><span class="linenos">164</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ArchiveMember.date_time-165"><a href="#ArchiveMember.date_time-165"><span class="linenos">165</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="ArchiveMember.date_time-166"><a href="#ArchiveMember.date_time-166"><span class="linenos">166</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="ArchiveMember.date_time-167"><a href="#ArchiveMember.date_time-167"><span class="linenos">167</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
</span><span id="ArchiveMember.date_time-168"><a href="#ArchiveMember.date_time-168"><span class="linenos">168</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">month</span><span class="p">,</span>
</span><span id="ArchiveMember.date_time-169"><a href="#ArchiveMember.date_time-169"><span class="linenos">169</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">day</span><span class="p">,</span>
</span><span id="ArchiveMember.date_time-170"><a href="#ArchiveMember.date_time-170"><span class="linenos">170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span>
</span><span id="ArchiveMember.date_time-171"><a href="#ArchiveMember.date_time-171"><span class="linenos">171</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span>
</span><span id="ArchiveMember.date_time-172"><a href="#ArchiveMember.date_time-172"><span class="linenos">172</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mtime</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
</span><span id="ArchiveMember.date_time-173"><a href="#ArchiveMember.date_time-173"><span class="linenos">173</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the date and time as a tuple.</p>
</div>


                            </div>
                            <div id="ArchiveMember.is_file" class="classattr">
                                        <input id="ArchiveMember.is_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_file</span><span class="annotation">: bool</span>

                <label class="view-source-button" for="ArchiveMember.is_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.is_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.is_file-175"><a href="#ArchiveMember.is_file-175"><span class="linenos">175</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.is_file-176"><a href="#ArchiveMember.is_file-176"><span class="linenos">176</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember.is_file-177"><a href="#ArchiveMember.is_file-177"><span class="linenos">177</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">FILE</span>
</span></pre></div>


    

                            </div>
                            <div id="ArchiveMember.is_dir" class="classattr">
                                        <input id="ArchiveMember.is_dir-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_dir</span><span class="annotation">: bool</span>

                <label class="view-source-button" for="ArchiveMember.is_dir-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.is_dir"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.is_dir-179"><a href="#ArchiveMember.is_dir-179"><span class="linenos">179</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.is_dir-180"><a href="#ArchiveMember.is_dir-180"><span class="linenos">180</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember.is_dir-181"><a href="#ArchiveMember.is_dir-181"><span class="linenos">181</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">DIR</span>
</span></pre></div>


    

                            </div>
                            <div id="ArchiveMember.is_link" class="classattr">
                                        <input id="ArchiveMember.is_link-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_link</span><span class="annotation">: bool</span>

                <label class="view-source-button" for="ArchiveMember.is_link-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.is_link"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.is_link-183"><a href="#ArchiveMember.is_link-183"><span class="linenos">183</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.is_link-184"><a href="#ArchiveMember.is_link-184"><span class="linenos">184</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_link</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember.is_link-185"><a href="#ArchiveMember.is_link-185"><span class="linenos">185</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">SYMLINK</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">HARDLINK</span>
</span></pre></div>


    

                            </div>
                            <div id="ArchiveMember.is_other" class="classattr">
                                        <input id="ArchiveMember.is_other-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_other</span><span class="annotation">: bool</span>

                <label class="view-source-button" for="ArchiveMember.is_other-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.is_other"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.is_other-187"><a href="#ArchiveMember.is_other-187"><span class="linenos">187</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.is_other-188"><a href="#ArchiveMember.is_other-188"><span class="linenos">188</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_other</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ArchiveMember.is_other-189"><a href="#ArchiveMember.is_other-189"><span class="linenos">189</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">MemberType</span><span class="o">.</span><span class="n">OTHER</span>
</span></pre></div>


    

                            </div>
                            <div id="ArchiveMember.CRC" class="classattr">
                                        <input id="ArchiveMember.CRC-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">CRC</span><span class="annotation">: Optional[int]</span>

                <label class="view-source-button" for="ArchiveMember.CRC-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveMember.CRC"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveMember.CRC-191"><a href="#ArchiveMember.CRC-191"><span class="linenos">191</span></a>    <span class="nd">@property</span>
</span><span id="ArchiveMember.CRC-192"><a href="#ArchiveMember.CRC-192"><span class="linenos">192</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">CRC</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span><span id="ArchiveMember.CRC-193"><a href="#ArchiveMember.CRC-193"><span class="linenos">193</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">crc32</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="ArchiveInfo">
                            <input id="ArchiveInfo-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass</div>

    <span class="def">class</span>
    <span class="name">ArchiveInfo</span>:

                <label class="view-source-button" for="ArchiveInfo-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveInfo"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveInfo-100"><a href="#ArchiveInfo-100"><span class="linenos">100</span></a><span class="nd">@dataclass</span>
</span><span id="ArchiveInfo-101"><a href="#ArchiveInfo-101"><span class="linenos">101</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveInfo</span><span class="p">:</span>
</span><span id="ArchiveInfo-102"><a href="#ArchiveInfo-102"><span class="linenos">102</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Detailed information about an archive&#39;s format.&quot;&quot;&quot;</span>
</span><span id="ArchiveInfo-103"><a href="#ArchiveInfo-103"><span class="linenos">103</span></a>
</span><span id="ArchiveInfo-104"><a href="#ArchiveInfo-104"><span class="linenos">104</span></a>    <span class="nb">format</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Will be ArchiveFormat from formats.py</span>
</span><span id="ArchiveInfo-105"><a href="#ArchiveInfo-105"><span class="linenos">105</span></a>    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># e.g. &quot;4&quot; for RAR4, &quot;5&quot; for RAR5</span>
</span><span id="ArchiveInfo-106"><a href="#ArchiveInfo-106"><span class="linenos">106</span></a>    <span class="n">is_solid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveInfo-107"><a href="#ArchiveInfo-107"><span class="linenos">107</span></a>    <span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="ArchiveInfo-108"><a href="#ArchiveInfo-108"><span class="linenos">108</span></a>    <span class="n">comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Detailed information about an archive's format.</p>
</div>


                            <div id="ArchiveInfo.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">ArchiveInfo</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="nb">format</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">is_solid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">extra</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#ArchiveInfo.__init__"></a>
    
    

                            </div>
                            <div id="ArchiveInfo.format" class="classattr">
                                <div class="attr variable">
            <span class="name">format</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#ArchiveInfo.format"></a>
    
    

                            </div>
                            <div id="ArchiveInfo.version" class="classattr">
                                <div class="attr variable">
            <span class="name">version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveInfo.version"></a>
    
    

                            </div>
                            <div id="ArchiveInfo.is_solid" class="classattr">
                                <div class="attr variable">
            <span class="name">is_solid</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveInfo.is_solid"></a>
    
    

                            </div>
                            <div id="ArchiveInfo.extra" class="classattr">
                                <div class="attr variable">
            <span class="name">extra</span><span class="annotation">: Optional[dict[str, Any]]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveInfo.extra"></a>
    
    

                            </div>
                            <div id="ArchiveInfo.comment" class="classattr">
                                <div class="attr variable">
            <span class="name">comment</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#ArchiveInfo.comment"></a>
    
    

                            </div>
                </section>
                <section id="ArchiveFormat">
                            <input id="ArchiveFormat-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ArchiveFormat</span><wbr>(<span class="base">enum.StrEnum</span>):

                <label class="view-source-button" for="ArchiveFormat-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveFormat"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveFormat-18"><a href="#ArchiveFormat-18"><span class="linenos">18</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveFormat</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
</span><span id="ArchiveFormat-19"><a href="#ArchiveFormat-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Supported compression formats.&quot;&quot;&quot;</span>
</span><span id="ArchiveFormat-20"><a href="#ArchiveFormat-20"><span class="linenos">20</span></a>
</span><span id="ArchiveFormat-21"><a href="#ArchiveFormat-21"><span class="linenos">21</span></a>    <span class="n">ZIP</span> <span class="o">=</span> <span class="s2">&quot;zip&quot;</span>
</span><span id="ArchiveFormat-22"><a href="#ArchiveFormat-22"><span class="linenos">22</span></a>    <span class="n">RAR</span> <span class="o">=</span> <span class="s2">&quot;rar&quot;</span>
</span><span id="ArchiveFormat-23"><a href="#ArchiveFormat-23"><span class="linenos">23</span></a>    <span class="n">SEVENZIP</span> <span class="o">=</span> <span class="s2">&quot;7z&quot;</span>
</span><span id="ArchiveFormat-24"><a href="#ArchiveFormat-24"><span class="linenos">24</span></a>
</span><span id="ArchiveFormat-25"><a href="#ArchiveFormat-25"><span class="linenos">25</span></a>    <span class="n">GZIP</span> <span class="o">=</span> <span class="s2">&quot;gz&quot;</span>
</span><span id="ArchiveFormat-26"><a href="#ArchiveFormat-26"><span class="linenos">26</span></a>    <span class="n">BZIP2</span> <span class="o">=</span> <span class="s2">&quot;bz2&quot;</span>
</span><span id="ArchiveFormat-27"><a href="#ArchiveFormat-27"><span class="linenos">27</span></a>    <span class="n">XZ</span> <span class="o">=</span> <span class="s2">&quot;xz&quot;</span>
</span><span id="ArchiveFormat-28"><a href="#ArchiveFormat-28"><span class="linenos">28</span></a>    <span class="n">ZSTD</span> <span class="o">=</span> <span class="s2">&quot;zstd&quot;</span>
</span><span id="ArchiveFormat-29"><a href="#ArchiveFormat-29"><span class="linenos">29</span></a>    <span class="n">LZ4</span> <span class="o">=</span> <span class="s2">&quot;lz4&quot;</span>
</span><span id="ArchiveFormat-30"><a href="#ArchiveFormat-30"><span class="linenos">30</span></a>
</span><span id="ArchiveFormat-31"><a href="#ArchiveFormat-31"><span class="linenos">31</span></a>    <span class="n">TAR</span> <span class="o">=</span> <span class="s2">&quot;tar&quot;</span>
</span><span id="ArchiveFormat-32"><a href="#ArchiveFormat-32"><span class="linenos">32</span></a>    <span class="n">TAR_GZ</span> <span class="o">=</span> <span class="s2">&quot;tar.gz&quot;</span>
</span><span id="ArchiveFormat-33"><a href="#ArchiveFormat-33"><span class="linenos">33</span></a>    <span class="n">TAR_BZ2</span> <span class="o">=</span> <span class="s2">&quot;tar.bz2&quot;</span>
</span><span id="ArchiveFormat-34"><a href="#ArchiveFormat-34"><span class="linenos">34</span></a>    <span class="n">TAR_XZ</span> <span class="o">=</span> <span class="s2">&quot;tar.xz&quot;</span>
</span><span id="ArchiveFormat-35"><a href="#ArchiveFormat-35"><span class="linenos">35</span></a>    <span class="n">TAR_ZSTD</span> <span class="o">=</span> <span class="s2">&quot;tar.zstd&quot;</span>
</span><span id="ArchiveFormat-36"><a href="#ArchiveFormat-36"><span class="linenos">36</span></a>    <span class="n">TAR_LZ4</span> <span class="o">=</span> <span class="s2">&quot;tar.lz4&quot;</span>
</span><span id="ArchiveFormat-37"><a href="#ArchiveFormat-37"><span class="linenos">37</span></a>
</span><span id="ArchiveFormat-38"><a href="#ArchiveFormat-38"><span class="linenos">38</span></a>    <span class="n">ISO</span> <span class="o">=</span> <span class="s2">&quot;iso&quot;</span>
</span><span id="ArchiveFormat-39"><a href="#ArchiveFormat-39"><span class="linenos">39</span></a>    <span class="n">FOLDER</span> <span class="o">=</span> <span class="s2">&quot;folder&quot;</span>
</span><span id="ArchiveFormat-40"><a href="#ArchiveFormat-40"><span class="linenos">40</span></a>
</span><span id="ArchiveFormat-41"><a href="#ArchiveFormat-41"><span class="linenos">41</span></a>    <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="s2">&quot;unknown&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Supported compression formats.</p>
</div>


                            <div id="ArchiveFormat.ZIP" class="classattr">
                                <div class="attr variable">
            <span class="name">ZIP</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.ZIP">ArchiveFormat.ZIP</a>: &#39;zip&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.ZIP"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.RAR" class="classattr">
                                <div class="attr variable">
            <span class="name">RAR</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.RAR">ArchiveFormat.RAR</a>: &#39;rar&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.RAR"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.SEVENZIP" class="classattr">
                                <div class="attr variable">
            <span class="name">SEVENZIP</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.SEVENZIP">ArchiveFormat.SEVENZIP</a>: &#39;7z&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.SEVENZIP"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.GZIP" class="classattr">
                                <div class="attr variable">
            <span class="name">GZIP</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.GZIP">ArchiveFormat.GZIP</a>: &#39;gz&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.GZIP"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.BZIP2" class="classattr">
                                <div class="attr variable">
            <span class="name">BZIP2</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.BZIP2">ArchiveFormat.BZIP2</a>: &#39;bz2&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.BZIP2"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.XZ" class="classattr">
                                <div class="attr variable">
            <span class="name">XZ</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.XZ">ArchiveFormat.XZ</a>: &#39;xz&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.XZ"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.ZSTD" class="classattr">
                                <div class="attr variable">
            <span class="name">ZSTD</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.ZSTD">ArchiveFormat.ZSTD</a>: &#39;zstd&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.ZSTD"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.LZ4" class="classattr">
                                <div class="attr variable">
            <span class="name">LZ4</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.LZ4">ArchiveFormat.LZ4</a>: &#39;lz4&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.LZ4"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.TAR" class="classattr">
                                <div class="attr variable">
            <span class="name">TAR</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.TAR">ArchiveFormat.TAR</a>: &#39;tar&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.TAR"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.TAR_GZ" class="classattr">
                                <div class="attr variable">
            <span class="name">TAR_GZ</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.TAR_GZ">ArchiveFormat.TAR_GZ</a>: &#39;tar.gz&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.TAR_GZ"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.TAR_BZ2" class="classattr">
                                <div class="attr variable">
            <span class="name">TAR_BZ2</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.TAR_BZ2">ArchiveFormat.TAR_BZ2</a>: &#39;tar.bz2&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.TAR_BZ2"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.TAR_XZ" class="classattr">
                                <div class="attr variable">
            <span class="name">TAR_XZ</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.TAR_XZ">ArchiveFormat.TAR_XZ</a>: &#39;tar.xz&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.TAR_XZ"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.TAR_ZSTD" class="classattr">
                                <div class="attr variable">
            <span class="name">TAR_ZSTD</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.TAR_ZSTD">ArchiveFormat.TAR_ZSTD</a>: &#39;tar.zstd&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.TAR_ZSTD"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.TAR_LZ4" class="classattr">
                                <div class="attr variable">
            <span class="name">TAR_LZ4</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.TAR_LZ4">ArchiveFormat.TAR_LZ4</a>: &#39;tar.lz4&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.TAR_LZ4"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.ISO" class="classattr">
                                <div class="attr variable">
            <span class="name">ISO</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.ISO">ArchiveFormat.ISO</a>: &#39;iso&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.ISO"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.FOLDER" class="classattr">
                                <div class="attr variable">
            <span class="name">FOLDER</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.FOLDER">ArchiveFormat.FOLDER</a>: &#39;folder&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.FOLDER"></a>
    
    

                            </div>
                            <div id="ArchiveFormat.UNKNOWN" class="classattr">
                                <div class="attr variable">
            <span class="name">UNKNOWN</span>        =
<span class="default_value">&lt;<a href="#ArchiveFormat.UNKNOWN">ArchiveFormat.UNKNOWN</a>: &#39;unknown&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveFormat.UNKNOWN"></a>
    
    

                            </div>
                </section>
                <section id="detect_archive_format_by_signature">
                            <input id="detect_archive_format_by_signature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">detect_archive_format_by_signature</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">path_or_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">typing</span><span class="o">.</span><span class="n">BinaryIO</span></span><span class="return-annotation">) -> <span class="n"><a href="#ArchiveFormat">ArchiveFormat</a></span>:</span></span>

                <label class="view-source-button" for="detect_archive_format_by_signature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#detect_archive_format_by_signature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="detect_archive_format_by_signature-25"><a href="#detect_archive_format_by_signature-25"><span class="linenos">25</span></a><span class="k">def</span><span class="w"> </span><span class="nf">detect_archive_format_by_signature</span><span class="p">(</span>
</span><span id="detect_archive_format_by_signature-26"><a href="#detect_archive_format_by_signature-26"><span class="linenos">26</span></a>    <span class="n">path_or_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">BinaryIO</span><span class="p">,</span>
</span><span id="detect_archive_format_by_signature-27"><a href="#detect_archive_format_by_signature-27"><span class="linenos">27</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArchiveFormat</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-28"><a href="#detect_archive_format_by_signature-28"><span class="linenos">28</span></a>    <span class="c1"># [signature, ...], offset, format</span>
</span><span id="detect_archive_format_by_signature-29"><a href="#detect_archive_format_by_signature-29"><span class="linenos">29</span></a>    <span class="n">SIGNATURES</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="detect_archive_format_by_signature-30"><a href="#detect_archive_format_by_signature-30"><span class="linenos">30</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x50\x4b\x03\x04</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">ZIP</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-31"><a href="#detect_archive_format_by_signature-31"><span class="linenos">31</span></a>        <span class="p">(</span>
</span><span id="detect_archive_format_by_signature-32"><a href="#detect_archive_format_by_signature-32"><span class="linenos">32</span></a>            <span class="p">[</span>
</span><span id="detect_archive_format_by_signature-33"><a href="#detect_archive_format_by_signature-33"><span class="linenos">33</span></a>                <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x52\x61\x72\x21\x1a\x07\x00</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># RAR4</span>
</span><span id="detect_archive_format_by_signature-34"><a href="#detect_archive_format_by_signature-34"><span class="linenos">34</span></a>                <span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x52\x61\x72\x21\x1a\x07\x01\x00</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># RAR5</span>
</span><span id="detect_archive_format_by_signature-35"><a href="#detect_archive_format_by_signature-35"><span class="linenos">35</span></a>            <span class="p">],</span>
</span><span id="detect_archive_format_by_signature-36"><a href="#detect_archive_format_by_signature-36"><span class="linenos">36</span></a>            <span class="mi">0</span><span class="p">,</span>
</span><span id="detect_archive_format_by_signature-37"><a href="#detect_archive_format_by_signature-37"><span class="linenos">37</span></a>            <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">RAR</span><span class="p">,</span>
</span><span id="detect_archive_format_by_signature-38"><a href="#detect_archive_format_by_signature-38"><span class="linenos">38</span></a>        <span class="p">),</span>
</span><span id="detect_archive_format_by_signature-39"><a href="#detect_archive_format_by_signature-39"><span class="linenos">39</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x37\x7a\xbc\xaf\x27\x1c</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">SEVENZIP</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-40"><a href="#detect_archive_format_by_signature-40"><span class="linenos">40</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x1f\x8b</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">GZIP</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-41"><a href="#detect_archive_format_by_signature-41"><span class="linenos">41</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x42\x5a\x68</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">BZIP2</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-42"><a href="#detect_archive_format_by_signature-42"><span class="linenos">42</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\xfd\x37\x7a\x58\x5a\x00</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">XZ</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-43"><a href="#detect_archive_format_by_signature-43"><span class="linenos">43</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x28\xb5\x2f\xfd</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">ZSTD</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-44"><a href="#detect_archive_format_by_signature-44"><span class="linenos">44</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;</span><span class="se">\x04\x22\x4d\x18</span><span class="s2">&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">LZ4</span><span class="p">),</span>
</span><span id="detect_archive_format_by_signature-45"><a href="#detect_archive_format_by_signature-45"><span class="linenos">45</span></a>        <span class="p">([</span><span class="sa">b</span><span class="s2">&quot;ustar&quot;</span><span class="p">],</span> <span class="mi">257</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">TAR</span><span class="p">),</span>  <span class="c1"># TAR &quot;ustar&quot; magic</span>
</span><span id="detect_archive_format_by_signature-46"><a href="#detect_archive_format_by_signature-46"><span class="linenos">46</span></a>        <span class="p">(</span><span class="n">_ISO_MAGIC_BYTES</span><span class="p">,</span> <span class="mh">0x8001</span><span class="p">,</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">ISO</span><span class="p">),</span>  <span class="c1"># ISO9660</span>
</span><span id="detect_archive_format_by_signature-47"><a href="#detect_archive_format_by_signature-47"><span class="linenos">47</span></a>    <span class="p">]</span>
</span><span id="detect_archive_format_by_signature-48"><a href="#detect_archive_format_by_signature-48"><span class="linenos">48</span></a>    <span class="n">f</span><span class="p">:</span> <span class="n">BinaryIO</span>
</span><span id="detect_archive_format_by_signature-49"><a href="#detect_archive_format_by_signature-49"><span class="linenos">49</span></a>
</span><span id="detect_archive_format_by_signature-50"><a href="#detect_archive_format_by_signature-50"><span class="linenos">50</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path_or_file</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
</span><span id="detect_archive_format_by_signature-51"><a href="#detect_archive_format_by_signature-51"><span class="linenos">51</span></a>        <span class="c1"># If it&#39;s a path, check if it&#39;s a directory first</span>
</span><span id="detect_archive_format_by_signature-52"><a href="#detect_archive_format_by_signature-52"><span class="linenos">52</span></a>        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path_or_file</span><span class="p">):</span>
</span><span id="detect_archive_format_by_signature-53"><a href="#detect_archive_format_by_signature-53"><span class="linenos">53</span></a>            <span class="k">return</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">FOLDER</span>
</span><span id="detect_archive_format_by_signature-54"><a href="#detect_archive_format_by_signature-54"><span class="linenos">54</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-55"><a href="#detect_archive_format_by_signature-55"><span class="linenos">55</span></a>            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path_or_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="detect_archive_format_by_signature-56"><a href="#detect_archive_format_by_signature-56"><span class="linenos">56</span></a>            <span class="n">close_after</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="detect_archive_format_by_signature-57"><a href="#detect_archive_format_by_signature-57"><span class="linenos">57</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-58"><a href="#detect_archive_format_by_signature-58"><span class="linenos">58</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="detect_archive_format_by_signature-59"><a href="#detect_archive_format_by_signature-59"><span class="linenos">59</span></a>                <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">UNKNOWN</span>
</span><span id="detect_archive_format_by_signature-60"><a href="#detect_archive_format_by_signature-60"><span class="linenos">60</span></a>            <span class="p">)</span>  <span class="c1"># Or raise error, depending on desired behavior</span>
</span><span id="detect_archive_format_by_signature-61"><a href="#detect_archive_format_by_signature-61"><span class="linenos">61</span></a>    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">path_or_file</span><span class="p">,</span> <span class="s2">&quot;read&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">path_or_file</span><span class="p">,</span> <span class="s2">&quot;seek&quot;</span><span class="p">):</span>
</span><span id="detect_archive_format_by_signature-62"><a href="#detect_archive_format_by_signature-62"><span class="linenos">62</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">BinaryIO</span><span class="p">,</span> <span class="n">path_or_file</span><span class="p">)</span>
</span><span id="detect_archive_format_by_signature-63"><a href="#detect_archive_format_by_signature-63"><span class="linenos">63</span></a>        <span class="c1"># We can&#39;t check is_dir on a stream, assume it&#39;s not a folder for streams</span>
</span><span id="detect_archive_format_by_signature-64"><a href="#detect_archive_format_by_signature-64"><span class="linenos">64</span></a>        <span class="n">close_after</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="detect_archive_format_by_signature-65"><a href="#detect_archive_format_by_signature-65"><span class="linenos">65</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-66"><a href="#detect_archive_format_by_signature-66"><span class="linenos">66</span></a>        <span class="c1"># Not a path and not a stream</span>
</span><span id="detect_archive_format_by_signature-67"><a href="#detect_archive_format_by_signature-67"><span class="linenos">67</span></a>        <span class="k">return</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">UNKNOWN</span>
</span><span id="detect_archive_format_by_signature-68"><a href="#detect_archive_format_by_signature-68"><span class="linenos">68</span></a>
</span><span id="detect_archive_format_by_signature-69"><a href="#detect_archive_format_by_signature-69"><span class="linenos">69</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-70"><a href="#detect_archive_format_by_signature-70"><span class="linenos">70</span></a>        <span class="k">for</span> <span class="n">magics</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">fmt</span> <span class="ow">in</span> <span class="n">SIGNATURES</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-71"><a href="#detect_archive_format_by_signature-71"><span class="linenos">71</span></a>            <span class="n">bytes_to_read</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">magic</span><span class="p">)</span> <span class="k">for</span> <span class="n">magic</span> <span class="ow">in</span> <span class="n">magics</span><span class="p">)</span>
</span><span id="detect_archive_format_by_signature-72"><a href="#detect_archive_format_by_signature-72"><span class="linenos">72</span></a>            <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
</span><span id="detect_archive_format_by_signature-73"><a href="#detect_archive_format_by_signature-73"><span class="linenos">73</span></a>            <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">bytes_to_read</span><span class="p">)</span>
</span><span id="detect_archive_format_by_signature-74"><a href="#detect_archive_format_by_signature-74"><span class="linenos">74</span></a>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">magic</span><span class="p">)</span> <span class="k">for</span> <span class="n">magic</span> <span class="ow">in</span> <span class="n">magics</span><span class="p">):</span>
</span><span id="detect_archive_format_by_signature-75"><a href="#detect_archive_format_by_signature-75"><span class="linenos">75</span></a>                <span class="k">return</span> <span class="n">fmt</span>
</span><span id="detect_archive_format_by_signature-76"><a href="#detect_archive_format_by_signature-76"><span class="linenos">76</span></a>
</span><span id="detect_archive_format_by_signature-77"><a href="#detect_archive_format_by_signature-77"><span class="linenos">77</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-78"><a href="#detect_archive_format_by_signature-78"><span class="linenos">78</span></a>        <span class="k">if</span> <span class="n">close_after</span><span class="p">:</span>
</span><span id="detect_archive_format_by_signature-79"><a href="#detect_archive_format_by_signature-79"><span class="linenos">79</span></a>            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="detect_archive_format_by_signature-80"><a href="#detect_archive_format_by_signature-80"><span class="linenos">80</span></a>
</span><span id="detect_archive_format_by_signature-81"><a href="#detect_archive_format_by_signature-81"><span class="linenos">81</span></a>    <span class="k">return</span> <span class="n">ArchiveFormat</span><span class="o">.</span><span class="n">UNKNOWN</span>
</span></pre></div>


    

                </section>
                <section id="MemberType">
                            <input id="MemberType-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MemberType</span><wbr>(<span class="base">enum.StrEnum</span>):

                <label class="view-source-button" for="MemberType-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MemberType"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MemberType-72"><a href="#MemberType-72"><span class="linenos">72</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MemberType</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
</span><span id="MemberType-73"><a href="#MemberType-73"><span class="linenos">73</span></a>    <span class="n">FILE</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
</span><span id="MemberType-74"><a href="#MemberType-74"><span class="linenos">74</span></a>    <span class="n">DIR</span> <span class="o">=</span> <span class="s2">&quot;dir&quot;</span>
</span><span id="MemberType-75"><a href="#MemberType-75"><span class="linenos">75</span></a>    <span class="n">SYMLINK</span> <span class="o">=</span> <span class="s2">&quot;symlink&quot;</span>
</span><span id="MemberType-76"><a href="#MemberType-76"><span class="linenos">76</span></a>    <span class="n">HARDLINK</span> <span class="o">=</span> <span class="s2">&quot;hardlink&quot;</span>
</span><span id="MemberType-77"><a href="#MemberType-77"><span class="linenos">77</span></a>    <span class="n">OTHER</span> <span class="o">=</span> <span class="s2">&quot;other&quot;</span>
</span></pre></div>


    

                            <div id="MemberType.FILE" class="classattr">
                                <div class="attr variable">
            <span class="name">FILE</span>        =
<span class="default_value">&lt;<a href="#MemberType.FILE">MemberType.FILE</a>: &#39;file&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#MemberType.FILE"></a>
    
    

                            </div>
                            <div id="MemberType.DIR" class="classattr">
                                <div class="attr variable">
            <span class="name">DIR</span>        =
<span class="default_value">&lt;<a href="#MemberType.DIR">MemberType.DIR</a>: &#39;dir&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#MemberType.DIR"></a>
    
    

                            </div>
                            <div id="MemberType.SYMLINK" class="classattr">
                                <div class="attr variable">
            <span class="name">SYMLINK</span>        =
<span class="default_value">&lt;<a href="#MemberType.SYMLINK">MemberType.SYMLINK</a>: &#39;symlink&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#MemberType.SYMLINK"></a>
    
    

                            </div>
                            <div id="MemberType.HARDLINK" class="classattr">
                                <div class="attr variable">
            <span class="name">HARDLINK</span>        =
<span class="default_value">&lt;<a href="#MemberType.HARDLINK">MemberType.HARDLINK</a>: &#39;hardlink&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#MemberType.HARDLINK"></a>
    
    

                            </div>
                            <div id="MemberType.OTHER" class="classattr">
                                <div class="attr variable">
            <span class="name">OTHER</span>        =
<span class="default_value">&lt;<a href="#MemberType.OTHER">MemberType.OTHER</a>: &#39;other&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#MemberType.OTHER"></a>
    
    

                            </div>
                </section>
                <section id="CreateSystem">
                            <input id="CreateSystem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">CreateSystem</span><wbr>(<span class="base">enum.IntEnum</span>):

                <label class="view-source-button" for="CreateSystem-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CreateSystem"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CreateSystem-80"><a href="#CreateSystem-80"><span class="linenos">80</span></a><span class="k">class</span><span class="w"> </span><span class="nc">CreateSystem</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
</span><span id="CreateSystem-81"><a href="#CreateSystem-81"><span class="linenos">81</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Operating system on which the archive member was created.&quot;&quot;&quot;</span>
</span><span id="CreateSystem-82"><a href="#CreateSystem-82"><span class="linenos">82</span></a>
</span><span id="CreateSystem-83"><a href="#CreateSystem-83"><span class="linenos">83</span></a>    <span class="n">FAT</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="CreateSystem-84"><a href="#CreateSystem-84"><span class="linenos">84</span></a>    <span class="n">AMIGA</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="CreateSystem-85"><a href="#CreateSystem-85"><span class="linenos">85</span></a>    <span class="n">VMS</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="CreateSystem-86"><a href="#CreateSystem-86"><span class="linenos">86</span></a>    <span class="n">UNIX</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="CreateSystem-87"><a href="#CreateSystem-87"><span class="linenos">87</span></a>    <span class="n">VM_CMS</span> <span class="o">=</span> <span class="mi">4</span>
</span><span id="CreateSystem-88"><a href="#CreateSystem-88"><span class="linenos">88</span></a>    <span class="n">ATARI_ST</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="CreateSystem-89"><a href="#CreateSystem-89"><span class="linenos">89</span></a>    <span class="n">OS2_HPFS</span> <span class="o">=</span> <span class="mi">6</span>
</span><span id="CreateSystem-90"><a href="#CreateSystem-90"><span class="linenos">90</span></a>    <span class="n">MACINTOSH</span> <span class="o">=</span> <span class="mi">7</span>
</span><span id="CreateSystem-91"><a href="#CreateSystem-91"><span class="linenos">91</span></a>    <span class="n">Z_SYSTEM</span> <span class="o">=</span> <span class="mi">8</span>
</span><span id="CreateSystem-92"><a href="#CreateSystem-92"><span class="linenos">92</span></a>    <span class="n">CPM</span> <span class="o">=</span> <span class="mi">9</span>
</span><span id="CreateSystem-93"><a href="#CreateSystem-93"><span class="linenos">93</span></a>    <span class="n">TOPS20</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="CreateSystem-94"><a href="#CreateSystem-94"><span class="linenos">94</span></a>    <span class="n">NTFS</span> <span class="o">=</span> <span class="mi">11</span>
</span><span id="CreateSystem-95"><a href="#CreateSystem-95"><span class="linenos">95</span></a>    <span class="n">QDOS</span> <span class="o">=</span> <span class="mi">12</span>
</span><span id="CreateSystem-96"><a href="#CreateSystem-96"><span class="linenos">96</span></a>    <span class="n">ACORN_RISCOS</span> <span class="o">=</span> <span class="mi">13</span>
</span><span id="CreateSystem-97"><a href="#CreateSystem-97"><span class="linenos">97</span></a>    <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="mi">255</span>
</span></pre></div>


            <div class="docstring"><p>Operating system on which the archive member was created.</p>
</div>


                            <div id="CreateSystem.FAT" class="classattr">
                                <div class="attr variable">
            <span class="name">FAT</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.FAT">CreateSystem.FAT</a>: 0&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.FAT"></a>
    
    

                            </div>
                            <div id="CreateSystem.AMIGA" class="classattr">
                                <div class="attr variable">
            <span class="name">AMIGA</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.AMIGA">CreateSystem.AMIGA</a>: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.AMIGA"></a>
    
    

                            </div>
                            <div id="CreateSystem.VMS" class="classattr">
                                <div class="attr variable">
            <span class="name">VMS</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.VMS">CreateSystem.VMS</a>: 2&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.VMS"></a>
    
    

                            </div>
                            <div id="CreateSystem.UNIX" class="classattr">
                                <div class="attr variable">
            <span class="name">UNIX</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.UNIX">CreateSystem.UNIX</a>: 3&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.UNIX"></a>
    
    

                            </div>
                            <div id="CreateSystem.VM_CMS" class="classattr">
                                <div class="attr variable">
            <span class="name">VM_CMS</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.VM_CMS">CreateSystem.VM_CMS</a>: 4&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.VM_CMS"></a>
    
    

                            </div>
                            <div id="CreateSystem.ATARI_ST" class="classattr">
                                <div class="attr variable">
            <span class="name">ATARI_ST</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.ATARI_ST">CreateSystem.ATARI_ST</a>: 5&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.ATARI_ST"></a>
    
    

                            </div>
                            <div id="CreateSystem.OS2_HPFS" class="classattr">
                                <div class="attr variable">
            <span class="name">OS2_HPFS</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.OS2_HPFS">CreateSystem.OS2_HPFS</a>: 6&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.OS2_HPFS"></a>
    
    

                            </div>
                            <div id="CreateSystem.MACINTOSH" class="classattr">
                                <div class="attr variable">
            <span class="name">MACINTOSH</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.MACINTOSH">CreateSystem.MACINTOSH</a>: 7&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.MACINTOSH"></a>
    
    

                            </div>
                            <div id="CreateSystem.Z_SYSTEM" class="classattr">
                                <div class="attr variable">
            <span class="name">Z_SYSTEM</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.Z_SYSTEM">CreateSystem.Z_SYSTEM</a>: 8&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.Z_SYSTEM"></a>
    
    

                            </div>
                            <div id="CreateSystem.CPM" class="classattr">
                                <div class="attr variable">
            <span class="name">CPM</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.CPM">CreateSystem.CPM</a>: 9&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.CPM"></a>
    
    

                            </div>
                            <div id="CreateSystem.TOPS20" class="classattr">
                                <div class="attr variable">
            <span class="name">TOPS20</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.TOPS20">CreateSystem.TOPS20</a>: 10&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.TOPS20"></a>
    
    

                            </div>
                            <div id="CreateSystem.NTFS" class="classattr">
                                <div class="attr variable">
            <span class="name">NTFS</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.NTFS">CreateSystem.NTFS</a>: 11&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.NTFS"></a>
    
    

                            </div>
                            <div id="CreateSystem.QDOS" class="classattr">
                                <div class="attr variable">
            <span class="name">QDOS</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.QDOS">CreateSystem.QDOS</a>: 12&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.QDOS"></a>
    
    

                            </div>
                            <div id="CreateSystem.ACORN_RISCOS" class="classattr">
                                <div class="attr variable">
            <span class="name">ACORN_RISCOS</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.ACORN_RISCOS">CreateSystem.ACORN_RISCOS</a>: 13&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.ACORN_RISCOS"></a>
    
    

                            </div>
                            <div id="CreateSystem.UNKNOWN" class="classattr">
                                <div class="attr variable">
            <span class="name">UNKNOWN</span>        =
<span class="default_value">&lt;<a href="#CreateSystem.UNKNOWN">CreateSystem.UNKNOWN</a>: 255&gt;</span>

        
    </div>
    <a class="headerlink" href="#CreateSystem.UNKNOWN"></a>
    
    

                            </div>
                </section>
                <section id="DependencyVersions">
                            <input id="DependencyVersions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass</div>

    <span class="def">class</span>
    <span class="name">DependencyVersions</span>:

                <label class="view-source-button" for="DependencyVersions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DependencyVersions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DependencyVersions-10"><a href="#DependencyVersions-10"><span class="linenos">10</span></a><span class="nd">@dataclass</span>
</span><span id="DependencyVersions-11"><a href="#DependencyVersions-11"><span class="linenos">11</span></a><span class="k">class</span><span class="w"> </span><span class="nc">DependencyVersions</span><span class="p">:</span>
</span><span id="DependencyVersions-12"><a href="#DependencyVersions-12"><span class="linenos">12</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Versions of optional dependencies used by archivey.&quot;&quot;&quot;</span>
</span><span id="DependencyVersions-13"><a href="#DependencyVersions-13"><span class="linenos">13</span></a>
</span><span id="DependencyVersions-14"><a href="#DependencyVersions-14"><span class="linenos">14</span></a>    <span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-15"><a href="#DependencyVersions-15"><span class="linenos">15</span></a>    <span class="n">rarfile_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-16"><a href="#DependencyVersions-16"><span class="linenos">16</span></a>    <span class="n">py7zr_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-17"><a href="#DependencyVersions-17"><span class="linenos">17</span></a>    <span class="n">cryptography_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-18"><a href="#DependencyVersions-18"><span class="linenos">18</span></a>    <span class="n">lz4_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-19"><a href="#DependencyVersions-19"><span class="linenos">19</span></a>    <span class="n">zstandard_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-20"><a href="#DependencyVersions-20"><span class="linenos">20</span></a>    <span class="n">pycdlib_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-21"><a href="#DependencyVersions-21"><span class="linenos">21</span></a>    <span class="n">rapidgzip_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-22"><a href="#DependencyVersions-22"><span class="linenos">22</span></a>    <span class="n">indexed_bzip2_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-23"><a href="#DependencyVersions-23"><span class="linenos">23</span></a>    <span class="n">python_xz_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-24"><a href="#DependencyVersions-24"><span class="linenos">24</span></a>    <span class="n">unrar_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependencyVersions-25"><a href="#DependencyVersions-25"><span class="linenos">25</span></a>    <span class="n">pyzstd_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Versions of optional dependencies used by archivey.</p>
</div>


                            <div id="DependencyVersions.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DependencyVersions</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">python_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">rarfile_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">py7zr_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">cryptography_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">lz4_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">zstandard_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">pycdlib_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">rapidgzip_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">indexed_bzip2_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">python_xz_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">unrar_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">pyzstd_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.__init__"></a>
    
    

                            </div>
                            <div id="DependencyVersions.python_version" class="classattr">
                                <div class="attr variable">
            <span class="name">python_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.python_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.rarfile_version" class="classattr">
                                <div class="attr variable">
            <span class="name">rarfile_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.rarfile_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.py7zr_version" class="classattr">
                                <div class="attr variable">
            <span class="name">py7zr_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.py7zr_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.cryptography_version" class="classattr">
                                <div class="attr variable">
            <span class="name">cryptography_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.cryptography_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.lz4_version" class="classattr">
                                <div class="attr variable">
            <span class="name">lz4_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.lz4_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.zstandard_version" class="classattr">
                                <div class="attr variable">
            <span class="name">zstandard_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.zstandard_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.pycdlib_version" class="classattr">
                                <div class="attr variable">
            <span class="name">pycdlib_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.pycdlib_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.rapidgzip_version" class="classattr">
                                <div class="attr variable">
            <span class="name">rapidgzip_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.rapidgzip_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.indexed_bzip2_version" class="classattr">
                                <div class="attr variable">
            <span class="name">indexed_bzip2_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.indexed_bzip2_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.python_xz_version" class="classattr">
                                <div class="attr variable">
            <span class="name">python_xz_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.python_xz_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.unrar_version" class="classattr">
                                <div class="attr variable">
            <span class="name">unrar_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.unrar_version"></a>
    
    

                            </div>
                            <div id="DependencyVersions.pyzstd_version" class="classattr">
                                <div class="attr variable">
            <span class="name">pyzstd_version</span><span class="annotation">: Optional[str]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#DependencyVersions.pyzstd_version"></a>
    
    

                            </div>
                </section>
                <section id="get_dependency_versions">
                            <input id="get_dependency_versions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_dependency_versions</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n"><a href="#DependencyVersions">DependencyVersions</a></span>:</span></span>

                <label class="view-source-button" for="get_dependency_versions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_dependency_versions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_dependency_versions-28"><a href="#get_dependency_versions-28"><span class="linenos">28</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_dependency_versions</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">DependencyVersions</span><span class="p">:</span>
</span><span id="get_dependency_versions-29"><a href="#get_dependency_versions-29"><span class="linenos">29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get versions of all optional dependencies.</span>
</span><span id="get_dependency_versions-30"><a href="#get_dependency_versions-30"><span class="linenos">30</span></a>
</span><span id="get_dependency_versions-31"><a href="#get_dependency_versions-31"><span class="linenos">31</span></a><span class="sd">    Returns:</span>
</span><span id="get_dependency_versions-32"><a href="#get_dependency_versions-32"><span class="linenos">32</span></a><span class="sd">        DependencyVersions: A dataclass containing version information for all dependencies.</span>
</span><span id="get_dependency_versions-33"><a href="#get_dependency_versions-33"><span class="linenos">33</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_dependency_versions-34"><a href="#get_dependency_versions-34"><span class="linenos">34</span></a>    <span class="n">versions</span> <span class="o">=</span> <span class="n">DependencyVersions</span><span class="p">()</span>
</span><span id="get_dependency_versions-35"><a href="#get_dependency_versions-35"><span class="linenos">35</span></a>
</span><span id="get_dependency_versions-36"><a href="#get_dependency_versions-36"><span class="linenos">36</span></a>    <span class="n">versions</span><span class="o">.</span><span class="n">python_version</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="get_dependency_versions-37"><a href="#get_dependency_versions-37"><span class="linenos">37</span></a>        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">minor</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">micro</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="get_dependency_versions-38"><a href="#get_dependency_versions-38"><span class="linenos">38</span></a>    <span class="p">)</span>
</span><span id="get_dependency_versions-39"><a href="#get_dependency_versions-39"><span class="linenos">39</span></a>
</span><span id="get_dependency_versions-40"><a href="#get_dependency_versions-40"><span class="linenos">40</span></a>    <span class="c1"># Check optional dependencies</span>
</span><span id="get_dependency_versions-41"><a href="#get_dependency_versions-41"><span class="linenos">41</span></a>    <span class="k">for</span> <span class="n">package</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
</span><span id="get_dependency_versions-42"><a href="#get_dependency_versions-42"><span class="linenos">42</span></a>        <span class="p">(</span><span class="s2">&quot;rarfile&quot;</span><span class="p">,</span> <span class="s2">&quot;rarfile_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-43"><a href="#get_dependency_versions-43"><span class="linenos">43</span></a>        <span class="p">(</span><span class="s2">&quot;py7zr&quot;</span><span class="p">,</span> <span class="s2">&quot;py7zr_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-44"><a href="#get_dependency_versions-44"><span class="linenos">44</span></a>        <span class="p">(</span><span class="s2">&quot;cryptography&quot;</span><span class="p">,</span> <span class="s2">&quot;cryptography_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-45"><a href="#get_dependency_versions-45"><span class="linenos">45</span></a>        <span class="p">(</span><span class="s2">&quot;lz4&quot;</span><span class="p">,</span> <span class="s2">&quot;lz4_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-46"><a href="#get_dependency_versions-46"><span class="linenos">46</span></a>        <span class="p">(</span><span class="s2">&quot;zstandard&quot;</span><span class="p">,</span> <span class="s2">&quot;zstandard_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-47"><a href="#get_dependency_versions-47"><span class="linenos">47</span></a>        <span class="p">(</span><span class="s2">&quot;pycdlib&quot;</span><span class="p">,</span> <span class="s2">&quot;pycdlib_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-48"><a href="#get_dependency_versions-48"><span class="linenos">48</span></a>        <span class="p">(</span><span class="s2">&quot;rapidgzip&quot;</span><span class="p">,</span> <span class="s2">&quot;rapidgzip_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-49"><a href="#get_dependency_versions-49"><span class="linenos">49</span></a>        <span class="p">(</span><span class="s2">&quot;indexed_bzip2&quot;</span><span class="p">,</span> <span class="s2">&quot;indexed_bzip2_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-50"><a href="#get_dependency_versions-50"><span class="linenos">50</span></a>        <span class="p">(</span><span class="s2">&quot;python-xz&quot;</span><span class="p">,</span> <span class="s2">&quot;python_xz_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-51"><a href="#get_dependency_versions-51"><span class="linenos">51</span></a>        <span class="p">(</span><span class="s2">&quot;pyzstd&quot;</span><span class="p">,</span> <span class="s2">&quot;pyzstd_version&quot;</span><span class="p">),</span>
</span><span id="get_dependency_versions-52"><a href="#get_dependency_versions-52"><span class="linenos">52</span></a>    <span class="p">]:</span>
</span><span id="get_dependency_versions-53"><a href="#get_dependency_versions-53"><span class="linenos">53</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="get_dependency_versions-54"><a href="#get_dependency_versions-54"><span class="linenos">54</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="n">versions</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">version</span><span class="p">(</span><span class="n">package</span><span class="p">))</span>
</span><span id="get_dependency_versions-55"><a href="#get_dependency_versions-55"><span class="linenos">55</span></a>        <span class="k">except</span> <span class="n">PackageNotFoundError</span><span class="p">:</span>
</span><span id="get_dependency_versions-56"><a href="#get_dependency_versions-56"><span class="linenos">56</span></a>            <span class="k">pass</span>
</span><span id="get_dependency_versions-57"><a href="#get_dependency_versions-57"><span class="linenos">57</span></a>
</span><span id="get_dependency_versions-58"><a href="#get_dependency_versions-58"><span class="linenos">58</span></a>    <span class="c1"># Check if the unrar command is available</span>
</span><span id="get_dependency_versions-59"><a href="#get_dependency_versions-59"><span class="linenos">59</span></a>    <span class="n">unrar_path</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="s2">&quot;unrar&quot;</span><span class="p">)</span>
</span><span id="get_dependency_versions-60"><a href="#get_dependency_versions-60"><span class="linenos">60</span></a>    <span class="k">if</span> <span class="n">unrar_path</span><span class="p">:</span>
</span><span id="get_dependency_versions-61"><a href="#get_dependency_versions-61"><span class="linenos">61</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="get_dependency_versions-62"><a href="#get_dependency_versions-62"><span class="linenos">62</span></a>            <span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
</span><span id="get_dependency_versions-63"><a href="#get_dependency_versions-63"><span class="linenos">63</span></a>                <span class="p">[</span><span class="n">unrar_path</span><span class="p">],</span>
</span><span id="get_dependency_versions-64"><a href="#get_dependency_versions-64"><span class="linenos">64</span></a>                <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
</span><span id="get_dependency_versions-65"><a href="#get_dependency_versions-65"><span class="linenos">65</span></a>                <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">,</span>
</span><span id="get_dependency_versions-66"><a href="#get_dependency_versions-66"><span class="linenos">66</span></a>                <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="get_dependency_versions-67"><a href="#get_dependency_versions-67"><span class="linenos">67</span></a>            <span class="p">)</span>
</span><span id="get_dependency_versions-68"><a href="#get_dependency_versions-68"><span class="linenos">68</span></a>            <span class="k">if</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdout</span><span class="p">:</span>
</span><span id="get_dependency_versions-69"><a href="#get_dependency_versions-69"><span class="linenos">69</span></a>                <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="get_dependency_versions-70"><a href="#get_dependency_versions-70"><span class="linenos">70</span></a>                    <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="get_dependency_versions-71"><a href="#get_dependency_versions-71"><span class="linenos">71</span></a>                    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
</span><span id="get_dependency_versions-72"><a href="#get_dependency_versions-72"><span class="linenos">72</span></a>                    <span class="k">if</span> <span class="s2">&quot;unrar&quot;</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="get_dependency_versions-73"><a href="#get_dependency_versions-73"><span class="linenos">73</span></a>                <span class="p">]</span>
</span><span id="get_dependency_versions-74"><a href="#get_dependency_versions-74"><span class="linenos">74</span></a>                <span class="n">versions</span><span class="o">.</span><span class="n">unrar_version</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;   &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">lines</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="get_dependency_versions-75"><a href="#get_dependency_versions-75"><span class="linenos">75</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="get_dependency_versions-76"><a href="#get_dependency_versions-76"><span class="linenos">76</span></a>            <span class="n">versions</span><span class="o">.</span><span class="n">unrar_version</span> <span class="o">=</span> <span class="s2">&quot;available&quot;</span>
</span><span id="get_dependency_versions-77"><a href="#get_dependency_versions-77"><span class="linenos">77</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="get_dependency_versions-78"><a href="#get_dependency_versions-78"><span class="linenos">78</span></a>        <span class="n">versions</span><span class="o">.</span><span class="n">unrar_version</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="get_dependency_versions-79"><a href="#get_dependency_versions-79"><span class="linenos">79</span></a>
</span><span id="get_dependency_versions-80"><a href="#get_dependency_versions-80"><span class="linenos">80</span></a>    <span class="k">return</span> <span class="n">versions</span>
</span></pre></div>


            <div class="docstring"><p>Get versions of all optional dependencies.</p>

<p>Returns:
    DependencyVersions: A dataclass containing version information for all dependencies.</p>
</div>


                </section>
                <section id="format_dependency_versions">
                            <input id="format_dependency_versions-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">format_dependency_versions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">versions</span><span class="p">:</span> <span class="n"><a href="#DependencyVersions">DependencyVersions</a></span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="format_dependency_versions-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#format_dependency_versions"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="format_dependency_versions-83"><a href="#format_dependency_versions-83"><span class="linenos">83</span></a><span class="k">def</span><span class="w"> </span><span class="nf">format_dependency_versions</span><span class="p">(</span><span class="n">versions</span><span class="p">:</span> <span class="n">DependencyVersions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="format_dependency_versions-84"><a href="#format_dependency_versions-84"><span class="linenos">84</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Format dependency versions as a string.</span>
</span><span id="format_dependency_versions-85"><a href="#format_dependency_versions-85"><span class="linenos">85</span></a>
</span><span id="format_dependency_versions-86"><a href="#format_dependency_versions-86"><span class="linenos">86</span></a><span class="sd">    Args:</span>
</span><span id="format_dependency_versions-87"><a href="#format_dependency_versions-87"><span class="linenos">87</span></a><span class="sd">        versions: The DependencyVersions instance to format</span>
</span><span id="format_dependency_versions-88"><a href="#format_dependency_versions-88"><span class="linenos">88</span></a>
</span><span id="format_dependency_versions-89"><a href="#format_dependency_versions-89"><span class="linenos">89</span></a><span class="sd">    Returns:</span>
</span><span id="format_dependency_versions-90"><a href="#format_dependency_versions-90"><span class="linenos">90</span></a><span class="sd">        str: A formatted string showing all dependency versions</span>
</span><span id="format_dependency_versions-91"><a href="#format_dependency_versions-91"><span class="linenos">91</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="format_dependency_versions-92"><a href="#format_dependency_versions-92"><span class="linenos">92</span></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Dependency Versions:&quot;</span><span class="p">]</span>
</span><span id="format_dependency_versions-93"><a href="#format_dependency_versions-93"><span class="linenos">93</span></a>    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">versions</span><span class="o">.</span><span class="n">__dataclass_fields__</span><span class="p">:</span>
</span><span id="format_dependency_versions-94"><a href="#format_dependency_versions-94"><span class="linenos">94</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">versions</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
</span><span id="format_dependency_versions-95"><a href="#format_dependency_versions-95"><span class="linenos">95</span></a>        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="format_dependency_versions-96"><a href="#format_dependency_versions-96"><span class="linenos">96</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="format_dependency_versions-97"><a href="#format_dependency_versions-97"><span class="linenos">97</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="format_dependency_versions-98"><a href="#format_dependency_versions-98"><span class="linenos">98</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">: not installed&quot;</span><span class="p">)</span>
</span><span id="format_dependency_versions-99"><a href="#format_dependency_versions-99"><span class="linenos">99</span></a>    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Format dependency versions as a string.</p>

<p>Args:
    versions: The DependencyVersions instance to format</p>

<p>Returns:
    str: A formatted string showing all dependency versions</p>
</div>


                </section>
                <section id="ArchiveyConfig">
                            <input id="ArchiveyConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass</div>

    <span class="def">class</span>
    <span class="name">ArchiveyConfig</span>:

                <label class="view-source-button" for="ArchiveyConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ArchiveyConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ArchiveyConfig-16"><a href="#ArchiveyConfig-16"><span class="linenos">16</span></a><span class="nd">@dataclass</span>
</span><span id="ArchiveyConfig-17"><a href="#ArchiveyConfig-17"><span class="linenos">17</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ArchiveyConfig</span><span class="p">:</span>
</span><span id="ArchiveyConfig-18"><a href="#ArchiveyConfig-18"><span class="linenos">18</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration for :func:`archivey.open_archive`.&quot;&quot;&quot;</span>
</span><span id="ArchiveyConfig-19"><a href="#ArchiveyConfig-19"><span class="linenos">19</span></a>
</span><span id="ArchiveyConfig-20"><a href="#ArchiveyConfig-20"><span class="linenos">20</span></a>    <span class="n">use_libarchive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-21"><a href="#ArchiveyConfig-21"><span class="linenos">21</span></a>    <span class="n">use_rar_stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-22"><a href="#ArchiveyConfig-22"><span class="linenos">22</span></a>    <span class="n">use_single_file_stored_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-23"><a href="#ArchiveyConfig-23"><span class="linenos">23</span></a>    <span class="n">use_rapidgzip</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-24"><a href="#ArchiveyConfig-24"><span class="linenos">24</span></a>    <span class="n">use_indexed_bzip2</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-25"><a href="#ArchiveyConfig-25"><span class="linenos">25</span></a>    <span class="n">use_python_xz</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-26"><a href="#ArchiveyConfig-26"><span class="linenos">26</span></a>    <span class="n">use_zstandard</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-27"><a href="#ArchiveyConfig-27"><span class="linenos">27</span></a>
</span><span id="ArchiveyConfig-28"><a href="#ArchiveyConfig-28"><span class="linenos">28</span></a>    <span class="n">tar_check_integrity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ArchiveyConfig-29"><a href="#ArchiveyConfig-29"><span class="linenos">29</span></a>
</span><span id="ArchiveyConfig-30"><a href="#ArchiveyConfig-30"><span class="linenos">30</span></a>    <span class="n">sevenzip_read_link_targets_eagerly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="ArchiveyConfig-31"><a href="#ArchiveyConfig-31"><span class="linenos">31</span></a>
</span><span id="ArchiveyConfig-32"><a href="#ArchiveyConfig-32"><span class="linenos">32</span></a>    <span class="n">overwrite_mode</span><span class="p">:</span> <span class="n">OverwriteMode</span> <span class="o">=</span> <span class="n">OverwriteMode</span><span class="o">.</span><span class="n">ERROR</span>
</span></pre></div>


            <div class="docstring"><p>Configuration for <code><a href="#open_archive">archivey.open_archive()</a></code>.</p>
</div>


                            <div id="ArchiveyConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">ArchiveyConfig</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">use_libarchive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">use_rar_stream</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">use_single_file_stored_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">use_rapidgzip</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">use_indexed_bzip2</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">use_python_xz</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">use_zstandard</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">tar_check_integrity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">sevenzip_read_link_targets_eagerly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">overwrite_mode</span><span class="p">:</span> <span class="n">archivey</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">OverwriteMode</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">OverwriteMode</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span> <span class="mi">3</span><span class="o">&gt;</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.__init__"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_libarchive" class="classattr">
                                <div class="attr variable">
            <span class="name">use_libarchive</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_libarchive"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_rar_stream" class="classattr">
                                <div class="attr variable">
            <span class="name">use_rar_stream</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_rar_stream"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_single_file_stored_metadata" class="classattr">
                                <div class="attr variable">
            <span class="name">use_single_file_stored_metadata</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_single_file_stored_metadata"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_rapidgzip" class="classattr">
                                <div class="attr variable">
            <span class="name">use_rapidgzip</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_rapidgzip"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_indexed_bzip2" class="classattr">
                                <div class="attr variable">
            <span class="name">use_indexed_bzip2</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_indexed_bzip2"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_python_xz" class="classattr">
                                <div class="attr variable">
            <span class="name">use_python_xz</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_python_xz"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.use_zstandard" class="classattr">
                                <div class="attr variable">
            <span class="name">use_zstandard</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.use_zstandard"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.tar_check_integrity" class="classattr">
                                <div class="attr variable">
            <span class="name">tar_check_integrity</span><span class="annotation">: bool</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.tar_check_integrity"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.sevenzip_read_link_targets_eagerly" class="classattr">
                                <div class="attr variable">
            <span class="name">sevenzip_read_link_targets_eagerly</span><span class="annotation">: bool</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.sevenzip_read_link_targets_eagerly"></a>
    
    

                            </div>
                            <div id="ArchiveyConfig.overwrite_mode" class="classattr">
                                <div class="attr variable">
            <span class="name">overwrite_mode</span><span class="annotation">: archivey.config.OverwriteMode</span>        =
<span class="default_value">&lt;OverwriteMode.ERROR: 3&gt;</span>

        
    </div>
    <a class="headerlink" href="#ArchiveyConfig.overwrite_mode"></a>
    
    

                            </div>
                </section>
                <section id="get_default_config">
                            <input id="get_default_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_default_config</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n"><a href="#ArchiveyConfig">ArchiveyConfig</a></span>:</span></span>

                <label class="view-source-button" for="get_default_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_default_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_default_config-40"><a href="#get_default_config-40"><span class="linenos">40</span></a><span class="k">def</span><span class="w"> </span><span class="nf">get_default_config</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ArchiveyConfig</span><span class="p">:</span>
</span><span id="get_default_config-41"><a href="#get_default_config-41"><span class="linenos">41</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the current default configuration.&quot;&quot;&quot;</span>
</span><span id="get_default_config-42"><a href="#get_default_config-42"><span class="linenos">42</span></a>    <span class="k">return</span> <span class="n">_default_config_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Return the current default configuration.</p>
</div>


                </section>
                <section id="set_default_config">
                            <input id="set_default_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_default_config</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">config</span><span class="p">:</span> <span class="n"><a href="#ArchiveyConfig">ArchiveyConfig</a></span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="set_default_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#set_default_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="set_default_config-45"><a href="#set_default_config-45"><span class="linenos">45</span></a><span class="k">def</span><span class="w"> </span><span class="nf">set_default_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ArchiveyConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="set_default_config-46"><a href="#set_default_config-46"><span class="linenos">46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the default configuration for :func:`open_archive`.&quot;&quot;&quot;</span>
</span><span id="set_default_config-47"><a href="#set_default_config-47"><span class="linenos">47</span></a>    <span class="n">_default_config_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the default configuration for <code><a href="#open_archive">open_archive()</a></code>.</p>
</div>


                </section>
                <section id="default_config">
                            <input id="default_config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-contextmanager">@contextmanager</div>

        <span class="def">def</span>
        <span class="name">default_config</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">config</span><span class="p">:</span> <span class="n"><a href="#ArchiveyConfig">ArchiveyConfig</a></span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="default_config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#default_config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="default_config-50"><a href="#default_config-50"><span class="linenos">50</span></a><span class="nd">@contextmanager</span>
</span><span id="default_config-51"><a href="#default_config-51"><span class="linenos">51</span></a><span class="k">def</span><span class="w"> </span><span class="nf">default_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ArchiveyConfig</span><span class="p">):</span>
</span><span id="default_config-52"><a href="#default_config-52"><span class="linenos">52</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Temporarily use ``config`` as the default configuration.&quot;&quot;&quot;</span>
</span><span id="default_config-53"><a href="#default_config-53"><span class="linenos">53</span></a>    <span class="n">token</span> <span class="o">=</span> <span class="n">_default_config_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</span><span id="default_config-54"><a href="#default_config-54"><span class="linenos">54</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="default_config-55"><a href="#default_config-55"><span class="linenos">55</span></a>        <span class="k">yield</span>
</span><span id="default_config-56"><a href="#default_config-56"><span class="linenos">56</span></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="default_config-57"><a href="#default_config-57"><span class="linenos">57</span></a>        <span class="n">_default_config_var</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Temporarily use <code>config</code> as the default configuration.</p>
</div>


                </section>
    </main>
</body>
</html>
